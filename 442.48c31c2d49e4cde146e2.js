
//  This file is part of Cosmos Journeyer
//
//  Copyright (C) 2024 Barthélemy Paléologue <barth.paleologue@cosmosjourneyer.com>
//
//  This program is free software: you can redistribute it and/or modify
//  it under the terms of the GNU Affero General Public License as published by
//  the Free Software Foundation, either version 3 of the License, or
//  (at your option) any later version.
//
//  This program is distributed in the hope that it will be useful,
//  but WITHOUT ANY WARRANTY; without even the implied warranty of
//  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
//  GNU Affero General Public License for more details.
//
//  You should have received a copy of the GNU Affero General Public License
//  along with this program.  If not, see <https://www.gnu.org/licenses/>.
        
"use strict";(self.webpackChunkcosmos_journeyer=self.webpackChunkcosmos_journeyer||[]).push([[442],{6553:(e,n,t)=>{t.d(n,{S4:()=>l,VE:()=>s,_k:()=>u,r:()=>c,tg:()=>f});var r=t(32464),o=t(77010),a=t(61400),i=t(67979);function l(e){return new DataView(e.array.buffer,e.offset.value,e.size)}function c(e){const n=e.viewer.buffer.slice(e.offset.value,e.offset.value+e.size),t=new Uint8Array((0,o._)(n)),r=new Uint8Array(t.length);return(0,a.XE)(t),(0,a.KA)(t,r),new DataView(r.buffer)}function s(e){const n=e.array.slice(e.offset.value,e.offset.value+e.size),t=fflate.unzlibSync(n),r=new Uint8Array(t.length);return(0,a.XE)(t),(0,a.KA)(t,r),new DataView(r.buffer)}function u(e){const n=e.array.slice(e.offset.value,e.offset.value+e.size),t=fflate.unzlibSync(n),r=e.lines*e.channels*e.width,o=1==e.type?new Uint16Array(r):new Uint32Array(r);let a=0,i=0;const l=new Array(4);for(let n=0;n<e.lines;n++)for(let n=0;n<e.channels;n++){let n=0;switch(e.type){case 1:l[0]=a,l[1]=l[0]+e.width,a=l[1]+e.width;for(let r=0;r<e.width;++r)n+=t[l[0]++]<<8|t[l[1]++],o[i]=n,i++;break;case 2:l[0]=a,l[1]=l[0]+e.width,l[2]=l[1]+e.width,a=l[2]+e.width;for(let r=0;r<e.width;++r)n+=t[l[0]++]<<24|t[l[1]++]<<16|t[l[2]++]<<8,o[i]=n,i++}}return new DataView(o.buffer)}function f(e){const n=e.viewer,t={value:e.offset.value},o=new Uint16Array(e.width*e.scanlineBlockSize*(e.channels*e.type)),l=new Uint8Array(i.cQ);let c=0;const s=new Array(e.channels);for(let n=0;n<e.channels;n++)s[n]={},s[n].start=c,s[n].end=s[n].start,s[n].nx=e.width,s[n].ny=e.lines,s[n].size=e.type,c+=s[n].nx*s[n].ny*s[n].size;const u=(0,a.Jn)(n,t),f=(0,a.Jn)(n,t);if(f>=i.cQ)throw new Error("Wrong PIZ_COMPRESSION BITMAP_SIZE");if(u<=f)for(let e=0;e<f-u+1;e++)l[e+u]=(0,a._S)(n,t);const h=new Uint16Array(i.Ez),w=(0,r.FG)(l,h),p=(0,a.PX)(n,t);(0,r.ZR)(e.array,n,t,p,o,c);for(let n=0;n<e.channels;++n){const e=s[n];for(let t=0;t<s[n].size;++t)(0,r.tb)(o,e.start+t,e.nx,e.size,e.ny,e.nx*e.size,w)}(0,r.Kq)(h,o,c);let d=0;const y=new Uint8Array(o.buffer.byteLength);for(let n=0;n<e.lines;n++)for(let n=0;n<e.channels;n++){const e=s[n],t=e.nx*e.size,r=new Uint8Array(o.buffer,e.end*i.JH,t*i.JH);y.set(r,d),d+=t*i.JH,e.end+=t}return new DataView(y.buffer)}},32464:(e,n,t)=>{t.d(n,{FG:()=>l,Kq:()=>g,ZR:()=>p,tb:()=>S});var r=t(61400),o=t(67979);const a=32768,i=65535;function l(e,n){let t=0;for(let r=0;r<o.Ez;++r)(0==r||e[r>>3]&1<<(7&r))&&(n[t++]=r);const r=t-1;for(;t<o.Ez;)n[t++]=0;return r}function c(e,n,t,o,a){for(;t<e;)n=n<<8|(0,r.fz)(o,a),t+=8;return{l:n>>(t-=e)&(1<<e)-1,c:n,lc:t}}function s(e,n,t,o){return{c:e=e<<8|(0,r.fz)(t,o),lc:n+=8}}function u(e,n,t,r,o,a,i,l,c){if(e==n){if(r<8){const e=s(t,r,o,a);t=e.c,r=e.lc}let e=t>>(r-=8);if(e=new Uint8Array([e])[0],l.value+e>c)return null;const n=i[l.value-1];for(;e-- >0;)i[l.value++]=n}else{if(!(l.value<c))return null;i[l.value++]=e}return{c:t,lc:r}}const f=new Array(59);function h(e){return 63&e}function w(e){return e>>6}function p(e,n,t,a,i,l){const p=t.value,d=(0,r.PX)(n,t),y=(0,r.PX)(n,t);t.value+=4;const b=(0,r.PX)(n,t);if(t.value+=4,d<0||d>=o.U0||y<0||y>=o.U0)throw new Error("Wrong HUF_ENCSIZE");const v=new Array(o.U0),S=new Array(o.A_);if(function(e){for(let n=0;n<o.A_;n++)e[n]={},e[n].len=0,e[n].lit=0,e[n].p=null}(S),function(e,n,t,r,a,i){const l=n;let s=0,u=0;for(;r<=a;r++){if(l.value-n.value>t)return;let f=c(6,s,u,e,l);const h=f.l;if(s=f.c,u=f.lc,i[r]=h,h==o.Hh){if(l.value-n.value>t)throw new Error("Error in HufUnpackEncTable");f=c(8,s,u,e,l);let h=f.l+o.gn;if(s=f.c,u=f.lc,r+h>a+1)throw new Error("Error in HufUnpackEncTable");for(;h--;)i[r++]=0;r--}else if(h>=o.LU){let e=h-o.LU+2;if(r+e>a+1)throw new Error("Error in HufUnpackEncTable");for(;e--;)i[r++]=0;r--}}!function(e){for(let e=0;e<=58;++e)f[e]=0;for(let n=0;n<o.U0;++n)f[e[n]]+=1;let n=0;for(let e=58;e>0;--e){const t=n+f[e]>>1;f[e]=n,n=t}for(let n=0;n<o.U0;++n){const t=e[n];t>0&&(e[n]=t|f[t]++<<6)}}(i)}(e,t,a-(t.value-p),d,y,v),b>8*(a-(t.value-p)))throw new Error("Wrong hufUncompress");!function(e,n,t,r){for(;n<=t;n++){const t=w(e[n]),a=h(e[n]);if(t>>a)throw new Error("Invalid table entry");if(a>o.LK){const e=r[t>>a-o.LK];if(e.len)throw new Error("Invalid table entry");if(e.lit++,e.p){const n=e.p;e.p=new Array(e.lit);for(let t=0;t<e.lit-1;++t)e.p[t]=n[t]}else e.p=new Array(1);e.p[e.lit-1]=n}else if(a){let e=0;for(let i=1<<o.LK-a;i>0;i--){const i=r[(t<<o.LK-a)+e];if(i.len||i.p)throw new Error("Invalid table entry");i.len=a,i.lit=n,e++}}}}(v,d,y,S),function(e,n,t,r,a,i,l,c,f){let p=0,d=0;const y=l,b=Math.trunc(r.value+(a+7)/8);for(;r.value<b;){let a=s(p,d,t,r);for(p=a.c,d=a.lc;d>=o.LK;){const l=n[p>>d-o.LK&o.lR];if(l.len){d-=l.len;const e=u(l.lit,i,p,d,t,r,c,f,y);e&&(p=e.c,d=e.lc)}else{if(!l.p)throw new Error("hufDecode issues");let n;for(n=0;n<l.lit;n++){const o=h(e[l.p[n]]);for(;d<o&&r.value<b;)a=s(p,d,t,r),p=a.c,d=a.lc;if(d>=o&&w(e[l.p[n]])==(p>>d-o&(1<<o)-1)){d-=o;const e=u(l.p[n],i,p,d,t,r,c,f,y);e&&(p=e.c,d=e.lc);break}}if(n==l.lit)throw new Error("HufDecode issues")}}}const v=8-a&7;for(p>>=v,d-=v;d>0;){const e=n[p<<o.LK-d&o.lR];if(!e.len)throw new Error("HufDecode issues");{d-=e.len;const n=u(e.lit,i,p,d,t,r,c,f,y);n&&(p=n.c,d=n.lc)}}}(v,S,e,t,b,y,l,i,{value:0})}function d(e){return 65535&e}function y(e){const n=d(e);return n>32767?n-65536:n}function b(e,n){const t=y(e),r=y(n),o=t+(1&r)+(r>>1);return{a:o,b:o-r}}function v(e,n){const t=d(e),r=d(n),o=t-(r>>1)&i;return{a:r+o-a&i,b:o}}function S(e,n,t,r,o,a,i){const l=i<16384,c=t>o?o:t;let s,u,f=1;for(;f<=c;)f<<=1;for(f>>=1,s=f,f>>=1;f>=1;){u=0;const i=u+a*(o-s),c=a*f,h=a*s,w=r*f,p=r*s;let d,y,S,g;for(;u<=i;u+=h){let o=u;const a=u+r*(t-s);for(;o<=a;o+=p){const t=o+w,r=o+c,a=r+w;if(l){let i=b(e[o+n],e[r+n]);d=i.a,S=i.b,i=b(e[t+n],e[a+n]),y=i.a,g=i.b,i=b(d,y),e[o+n]=i.a,e[t+n]=i.b,i=b(S,g),e[r+n]=i.a,e[a+n]=i.b}else{let i=v(e[o+n],e[r+n]);d=i.a,S=i.b,i=v(e[t+n],e[a+n]),y=i.a,g=i.b,i=v(d,y),e[o+n]=i.a,e[t+n]=i.b,i=v(S,g),e[r+n]=i.a,e[a+n]=i.b}}if(t&f){const t=o+c;let r;r=l?b(e[o+n],e[t+n]):v(e[o+n],e[t+n]),d=r.a,e[t+n]=r.b,e[o+n]=d}}if(o&f){let o=u;const a=u+r*(t-s);for(;o<=a;o+=p){const t=o+w;let r;r=l?b(e[o+n],e[t+n]):v(e[o+n],e[t+n]),d=r.a,e[t+n]=r.b,e[o+n]=d}}s=f,f>>=1}return u}function g(e,n,t){for(let r=0;r<t;++r)n[r]=e[n[r]]}},33583:(e,n,t)=>{function r(e){return parseInt(e.toString().replace(/\W/g,""))}function o(e,n,t=1401298e-51){return Math.abs(e-n)<=t}function a(e,n){return e===n?e:Math.random()*(n-e)+e}function i(e,n,t){return e+(n-e)*t}function l(e,n,t){let r=d(n-e,360);return r>180&&(r-=360),e+r*f(t)}function c(e,n,t){let r=0;return r=e!=n?f((t-e)/(n-e)):0,r}function s(e,n,t,r,o){const a=o*o,i=o*a;return e*(2*i-3*a+1)+t*(-2*i+3*a)+n*(i-2*a+o)+r*(i-a)}function u(e,n,t,r,o){const a=o*o;return 6*(a-o)*e+(3*a-4*o+1)*n+6*(-a+o)*t+(3*a-2*o)*r}function f(e,n=0,t=1){return Math.min(t,Math.max(n,e))}function h(e){return e-2*Math.PI*Math.floor((e+Math.PI)/(2*Math.PI))}function w(e){const n=e.toString(16);return e<=15?("0"+n).toUpperCase():n.toUpperCase()}function p(e){if(Math.log2)return Math.floor(Math.log2(e));if(e<0)return NaN;if(0===e)return-1/0;let n=0;if(e<1){for(;e<1;)n++,e*=2;n=-n}else if(e>1)for(;e>1;)n++,e=Math.floor(e/2);return n}function d(e,n){return e-Math.floor(e/n)*n}function y(e,n,t){return(e-n)/(t-n)}function b(e,n,t){return e*(t-n)+n}function v(e,n){let t=d(n-e,360);return t>180&&(t-=360),t}function S(e,n){const t=d(e,2*n);return n-Math.abs(t-n)}function g(e,n,t){let r=f(t);return r=-2*r*r*r+3*r*r,n*r+e*(1-r)}function E(e,n,t){let r=0;return r=Math.abs(n-e)<=t?n:e+Math.sign(n-e)*t,r}function A(e,n,t){const r=v(e,n);let o=0;return o=-t<r&&r<t?n:E(e,n=e+r,t),o}function M(e,n,t){return(e-n)/(t-n)}function m(e,n,t){return(t-n)*e+n}function I(e,n){const t=e%n;return 0===t?n:I(n,t)}t.r(n),t.d(n,{Clamp:()=>f,DeltaAngle:()=>v,Denormalize:()=>b,ExtractAsInt:()=>r,Hermite:()=>s,Hermite1stDerivative:()=>u,HighestCommonFactor:()=>I,ILog2:()=>p,InverseLerp:()=>c,Lerp:()=>i,LerpAngle:()=>l,MoveTowards:()=>E,MoveTowardsAngle:()=>A,Normalize:()=>y,NormalizeRadians:()=>h,PercentToRange:()=>m,PingPong:()=>S,RandomRange:()=>a,RangeToPercent:()=>M,Repeat:()=>d,SmoothStep:()=>g,ToHex:()=>w,WithinEpsilon:()=>o})},33601:(e,n,t)=>{var r;t.d(n,{V:()=>r,u:()=>o}),function(e){e[e.Float=0]="Float",e[e.HalfFloat=1]="HalfFloat"}(r||(r={}));class o{}o.DefaultOutputType=r.HalfFloat,o.FFLATEUrl="https://unpkg.com/fflate@0.8.2"},43442:(e,n,t)=>{t.r(n),t.d(n,{_ExrTextureLoader:()=>i});var r=t(48738),o=t(56763),a=t(33601);class i{constructor(){this.supportCascades=!1}loadCubeData(e,n,t,r,o){throw".exr not supported in Cube."}async loadData(e,n,t){const i=new DataView(e.buffer),l={value:0},c=(0,r.V)(i,l),s=await(0,o.d)(c,i,l,a.u.DefaultOutputType);(0,o.u)(s,c,i,l),t(c.dataWindow.xMax-c.dataWindow.xMin+1,c.dataWindow.yMax-c.dataWindow.yMin+1,n.generateMipMaps,!1,(()=>{const e=n.getEngine();n.format=c.format,n.type=s.textureType,n.invertY=!1,n._gammaSpace=!c.linearSpace,s.byteArray&&e._uploadDataToTextureDirectly(n,s.byteArray,0,0,void 0,!0)}))}}},48738:(e,n,t)=>{t.d(n,{V:()=>i});var r=t(52101),o=t(61400);const a=20000630;function i(e,n){if(e.getUint32(0,!0)!=a)throw new Error("Incorrect OpenEXR format");const t=e.getUint8(4),i=e.getUint8(5),l={singleTile:!!(2&i),longName:!!(4&i),deepFormat:!!(8&i),multiPart:!!(16&i)};n.value=8;const c={};let s=!0;for(;s;){const t=(0,o.T$)(e.buffer,n);if(t){const a=(0,o.T$)(e.buffer,n),i=(0,o.PX)(e,n),l=(0,o.zX)(e,n,a,i);void 0===l?r.V.Warn(`Unknown header attribute type ${a}'.`):c[t]=l}else s=!1}if(-5&i)throw new Error("Unsupported file format");return{version:t,spec:l,...c}}},56763:(e,n,t)=>{t.d(n,{d:()=>c,u:()=>s});var r=t(61400),o=t(6553),a=t(67979),i=t(67290),l=t(33601);async function c(e,n,t,c){const s={size:0,viewer:n,array:new Uint8Array(n.buffer),offset:t,width:e.dataWindow.xMax-e.dataWindow.xMin+1,height:e.dataWindow.yMax-e.dataWindow.yMin+1,channels:e.channels.length,channelLineOffsets:{},scanOrder:()=>0,bytesPerLine:0,outLineWidth:0,lines:0,scanlineBlockSize:0,inputSize:null,type:0,uncompress:null,getter:()=>0,format:5,outputChannels:0,decodeChannels:{},blockCount:null,byteArray:null,linearSpace:!1,textureType:0};switch(e.compression){case r.he.NO_COMPRESSION:s.lines=1,s.uncompress=o.S4;break;case r.he.RLE_COMPRESSION:s.lines=1,s.uncompress=o.r;break;case r.he.ZIPS_COMPRESSION:s.lines=1,s.uncompress=o.VE,await i.S0.LoadScriptAsync(l.u.FFLATEUrl);break;case r.he.ZIP_COMPRESSION:s.lines=16,s.uncompress=o.VE,await i.S0.LoadScriptAsync(l.u.FFLATEUrl);break;case r.he.PIZ_COMPRESSION:s.lines=32,s.uncompress=o.tg;break;case r.he.PXR24_COMPRESSION:s.lines=16,s.uncompress=o._k,await i.S0.LoadScriptAsync(l.u.FFLATEUrl);break;default:throw new Error(r.he[e.compression]+" is unsupported")}s.scanlineBlockSize=s.lines;const u={};for(const n of e.channels)switch(n.name){case"Y":case"R":case"G":case"B":case"A":u[n.name]=!0,s.type=n.pixelType}let f=!1;if(u.R&&u.G&&u.B)f=!u.A,s.outputChannels=4,s.decodeChannels={R:0,G:1,B:2,A:3};else{if(!u.Y)throw new Error("EXRLoader.parse: file contains unsupported data channels.");s.outputChannels=1,s.decodeChannels={Y:0}}if(1===s.type)switch(c){case l.V.Float:s.getter=r.LD,s.inputSize=a.JH;break;case l.V.HalfFloat:s.getter=r.Jn,s.inputSize=a.JH}else{if(2!==s.type)throw new Error("Unsupported pixelType "+s.type+" for "+e.compression);switch(c){case l.V.Float:s.getter=r.Ff,s.inputSize=a.Y3;break;case l.V.HalfFloat:s.getter=r.Sn,s.inputSize=a.Y3}}s.blockCount=s.height/s.scanlineBlockSize;for(let e=0;e<s.blockCount;e++)(0,r.tB)(n,t);const h=s.width*s.height*s.outputChannels;switch(c){case l.V.Float:s.byteArray=new Float32Array(h),s.textureType=1,f&&s.byteArray.fill(1,0,h);break;case l.V.HalfFloat:s.byteArray=new Uint16Array(h),s.textureType=2,f&&s.byteArray.fill(15360,0,h);break;default:throw new Error("Unsupported type: "+c)}let w=0;for(const n of e.channels)void 0!==s.decodeChannels[n.name]&&(s.channelLineOffsets[n.name]=w*s.width),w+=2*n.pixelType;return s.bytesPerLine=s.width*w,s.outLineWidth=s.width*s.outputChannels,"INCREASING_Y"===e.lineOrder?s.scanOrder=e=>e:s.scanOrder=e=>s.height-1-e,4==s.outputChannels?(s.format=5,s.linearSpace=!0):(s.format=6,s.linearSpace=!1),s}function s(e,n,t,a){const i={value:0};for(let l=0;l<e.height/e.scanlineBlockSize;l++){const c=(0,r.cL)(t,a)-n.dataWindow.yMin;e.size=(0,r.PX)(t,a),e.lines=c+e.scanlineBlockSize>e.height?e.height-c:e.scanlineBlockSize;const s=e.size<e.lines*e.bytesPerLine&&e.uncompress?e.uncompress(e):(0,o.S4)(e);a.value+=e.size;for(let t=0;t<e.scanlineBlockSize;t++){const r=l*e.scanlineBlockSize,o=t+e.scanOrder(r);if(o>=e.height)continue;const a=t*e.bytesPerLine,c=(e.height-1-o)*e.outLineWidth;for(let t=0;t<e.channels;t++){const r=n.channels[t].name,o=e.channelLineOffsets[r],l=e.decodeChannels[r];if(void 0!==l){i.value=a+o;for(let n=0;n<e.width;n++){const t=c+n*e.outputChannels+l;e.byteArray&&(e.byteArray[t]=e.getter(s,i))}}}}}}},61400:(e,n,t)=>{t.d(n,{Ff:()=>d,Jn:()=>h,KA:()=>g,LD:()=>y,PX:()=>u,Sn:()=>b,T$:()=>c,XE:()=>S,_S:()=>f,cL:()=>s,fz:()=>w,he:()=>r,tB:()=>p,zX:()=>v});var r,o,a=t(33583),i=t(67979);!function(e){e[e.NO_COMPRESSION=0]="NO_COMPRESSION",e[e.RLE_COMPRESSION=1]="RLE_COMPRESSION",e[e.ZIPS_COMPRESSION=2]="ZIPS_COMPRESSION",e[e.ZIP_COMPRESSION=3]="ZIP_COMPRESSION",e[e.PIZ_COMPRESSION=4]="PIZ_COMPRESSION",e[e.PXR24_COMPRESSION=5]="PXR24_COMPRESSION"}(r||(r={})),function(e){e[e.INCREASING_Y=0]="INCREASING_Y",e[e.DECREASING_Y=1]="DECREASING_Y"}(o||(o={}));const l=function(){const e=new ArrayBuffer(4),n=new Float32Array(e),t=new Uint32Array(e),r=new Uint32Array(512),o=new Uint32Array(512);for(let e=0;e<256;++e){const n=e-127;n<-27?(r[e]=0,r[256|e]=32768,o[e]=24,o[256|e]=24):n<-14?(r[e]=1024>>-n-14,r[256|e]=1024>>-n-14|32768,o[e]=-n-1,o[256|e]=-n-1):n<=15?(r[e]=n+15<<10,r[256|e]=n+15<<10|32768,o[e]=13,o[256|e]=13):n<128?(r[e]=31744,r[256|e]=64512,o[e]=24,o[256|e]=24):(r[e]=31744,r[256|e]=64512,o[e]=13,o[256|e]=13)}const a=new Uint32Array(2048),i=new Uint32Array(64),l=new Uint32Array(64);for(let e=1;e<1024;++e){let n=e<<13,t=0;for(;!(8388608&n);)n<<=1,t-=8388608;n&=-8388609,t+=947912704,a[e]=n|t}for(let e=1024;e<2048;++e)a[e]=939524096+(e-1024<<13);for(let e=1;e<31;++e)i[e]=e<<23;i[31]=1199570944,i[32]=2147483648;for(let e=33;e<63;++e)i[e]=2147483648+(e-32<<23);i[63]=3347054592;for(let e=1;e<64;++e)32!==e&&(l[e]=1024);return{floatView:n,uint32View:t,baseTable:r,shiftTable:o,mantissaTable:a,exponentTable:i,offsetTable:l}}();function c(e,n){const t=new Uint8Array(e);let r=0;for(;0!=t[n.value+r];)r+=1;const o=(new TextDecoder).decode(t.slice(n.value,n.value+r));return n.value=n.value+r+1,o}function s(e,n){const t=e.getInt32(n.value,!0);return n.value+=i.b7,t}function u(e,n){const t=e.getUint32(n.value,!0);return n.value+=i.b7,t}function f(e,n){const t=e.getUint8(n.value);return n.value+=i.aN,t}function h(e,n){const t=e.getUint16(n.value,!0);return n.value+=i.JH,t}function w(e,n){const t=e[n.value];return n.value+=i.aN,t}function p(e,n){let t;return t="getBigInt64"in DataView.prototype?Number(e.getBigInt64(n.value,!0)):e.getUint32(n.value+4,!0)+Number(e.getUint32(n.value,!0)<<32),n.value+=i.Kl,t}function d(e,n){const t=e.getFloat32(n.value,!0);return n.value+=i.Y3,t}function y(e,n){return function(e){const n=(31744&e)>>10,t=1023&e;return(e>>15?-1:1)*(n?31===n?t?NaN:1/0:Math.pow(2,n-15)*(1+t/1024):t/1024*6103515625e-14)}(h(e,n))}function b(e,n){return function(e){if(Math.abs(e)>65504)throw new Error("Value out of range.Consider using float instead of half-float.");e=(0,a.Clamp)(e,-65504,65504),l.floatView[0]=e;const n=l.uint32View[0],t=n>>23&511;return l.baseTable[t]+((8388607&n)>>l.shiftTable[t])}(d(e,n))}function v(e,n,t,r){switch(t){case"string":case"stringvector":case"iccProfile":return function(e,n,t){const r=(new TextDecoder).decode(new Uint8Array(e).slice(n.value,n.value+t));return n.value=n.value+t,r}(e.buffer,n,r);case"chlist":return function(e,n,t){const r=n.value,o=[];for(;n.value<r+t-1;){const t=c(e.buffer,n),r=s(e,n),a=f(e,n);n.value+=3;const i=s(e,n),l=s(e,n);o.push({name:t,pixelType:r,pLinear:a,xSampling:i,ySampling:l})}return n.value+=1,o}(e,n,r);case"chromaticities":return function(e,n){return{redX:d(e,n),redY:d(e,n),greenX:d(e,n),greenY:d(e,n),blueX:d(e,n),blueY:d(e,n),whiteX:d(e,n),whiteY:d(e,n)}}(e,n);case"compression":return function(e,n){return f(e,n)}(e,n);case"box2i":return function(e,n){return{xMin:s(e,n),yMin:s(e,n),xMax:s(e,n),yMax:s(e,n)}}(e,n);case"lineOrder":return function(e,n){const t=f(e,n);return o[t]}(e,n);case"float":return d(e,n);case"v2f":return function(e,n){return[d(e,n),d(e,n)]}(e,n);case"v3f":return function(e,n){return[d(e,n),d(e,n),d(e,n)]}(e,n);case"int":return s(e,n);case"rational":return function(e,n){return[s(e,n),u(e,n)]}(e,n);case"timecode":return function(e,n){return[u(e,n),u(e,n)]}(e,n);case"preview":return n.value+=r,"skipped";default:return void(n.value+=r)}}function S(e){for(let n=1;n<e.length;n++){const t=e[n-1]+e[n]-128;e[n]=t}}function g(e,n){let t=0,r=Math.floor((e.length+1)/2),o=0;const a=e.length-1;for(;!(o>a||(n[o++]=e[t++],o>a));)n[o++]=e[r++]}},67979:(e,n,t)=>{t.d(n,{A_:()=>h,Ez:()=>c,Hh:()=>d,JH:()=>i,Kl:()=>l,LK:()=>u,LU:()=>p,U0:()=>f,Y3:()=>o,aN:()=>a,b7:()=>r,cQ:()=>s,gn:()=>y,lR:()=>w});const r=4,o=4,a=1,i=2,l=8,c=65536,s=c>>3,u=14,f=65537,h=1<<u,w=h-1,p=59,d=63,y=2+d-p},77010:(e,n,t)=>{function r(e){let n=e.byteLength;const t=new Array;let r=0;const o=new DataView(e);for(;n>0;){const e=o.getInt8(r++);if(e<0){const a=-e;n-=a+1;for(let e=0;e<a;e++)t.push(o.getUint8(r++))}else{const a=e;n-=2;const i=o.getUint8(r++);for(let e=0;e<a+1;e++)t.push(i)}}return t}t.d(n,{_:()=>r})}}]);