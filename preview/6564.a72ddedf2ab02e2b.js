"use strict";(globalThis.webpackChunk_cosmos_journeyer_game=globalThis.webpackChunk_cosmos_journeyer_game||[]).push([["6564"],{15007:function(e,t,r){r.d(t,{_TGATextureLoader:()=>i});var a=r(9743);class i{constructor(){this.supportCascades=!1}loadCubeData(){throw".env not supported in Cube."}loadData(e,t,r){let i=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),n=(0,a.O_)(i);r(n.width,n.height,t.generateMipMaps,!1,()=>{(0,a.FA)(t,i)})}}},9743:function(e,t,r){r.d(t,{FA:()=>n,O_:()=>i,uT:()=>o});var a=r(283);function i(e){let t=0;return{id_length:e[t++],colormap_type:e[t++],image_type:e[t++],colormap_index:e[t++]|e[t++]<<8,colormap_length:e[t++]|e[t++]<<8,colormap_size:e[t++],origin:[e[t++]|e[t++]<<8,e[t++]|e[t++]<<8],width:e[t++]|e[t++]<<8,height:e[t++]|e[t++]<<8,pixel_size:e[t++],flags:e[t++]}}function n(e,t){let r,n,h,l,g,s,u,c;if(t.length<19)return void a.V.Error("Unable to load TGA file - Not enough data to contain header");let f=18,d=i(t);if(d.id_length+f>t.length)return void a.V.Error("Unable to load TGA file - Not enough data");f+=d.id_length;let _=!1,w=!1,b=!1;switch(d.image_type){case 9:_=!0;case 1:w=!0;break;case 10:_=!0;case 2:break;case 11:_=!0;case 3:b=!0}let p=d.pixel_size>>3,y=d.width*d.height*p;if(w&&(n=t.subarray(f,f+=d.colormap_length*(d.colormap_size>>3))),_){let e,a,i;r=new Uint8Array(y);let n=0,o=new Uint8Array(p);for(;f<y&&n<y;)if(a=(127&(e=t[f++]))+1,128&e){for(i=0;i<p;++i)o[i]=t[f++];for(i=0;i<a;++i)r.set(o,n+i*p);n+=p*a}else{for(a*=p,i=0;i<a;++i)r[n+i]=t[f++];n+=a}}else r=t.subarray(f,f+=w?d.width*d.height:y);switch((48&d.flags)>>4){default:case 2:h=0,g=1,c=d.width,l=0,s=1,u=d.height;break;case 0:h=0,g=1,c=d.width,l=d.height-1,s=-1,u=-1;break;case 3:h=d.width-1,g=-1,c=-1,l=0,s=1,u=d.height;break;case 1:h=d.width-1,g=-1,c=-1,l=d.height-1,s=-1,u=-1}let m=o["_getImageData"+(b?"Grey":"")+d.pixel_size+"bits"](d,n,r,l,s,u,h,g,c);e.getEngine()._uploadDataToTextureDirectly(e,m)}let o={GetTGAHeader:i,UploadContent:n,_getImageData8bits:function(e,t,r,a,i,n,o,h,l){let g=e.width,s=e.height,u,c=0,f,d,_=new Uint8Array(g*s*4);for(d=a;d!==n;d+=i)for(f=o;f!==l;f+=h,c++)u=r[c],_[(f+g*d)*4+3]=255,_[(f+g*d)*4+2]=t[3*u+0],_[(f+g*d)*4+1]=t[3*u+1],_[(f+g*d)*4+0]=t[3*u+2];return _},_getImageData16bits:function(e,t,r,a,i,n,o,h,l){let g=e.width,s=e.height,u,c=0,f,d,_=new Uint8Array(g*s*4);for(d=a;d!==n;d+=i)for(f=o;f!==l;f+=h,c+=2){let e=((31744&(u=r[c+0]+(r[c+1]<<8)))>>10)*255/31|0,t=((992&u)>>5)*255/31|0,a=(31&u)*255/31|0;_[(f+g*d)*4+0]=e,_[(f+g*d)*4+1]=t,_[(f+g*d)*4+2]=a,_[(f+g*d)*4+3]=32768&u?0:255}return _},_getImageData24bits:function(e,t,r,a,i,n,o,h,l){let g=e.width,s=e.height,u=0,c,f,d=new Uint8Array(g*s*4);for(f=a;f!==n;f+=i)for(c=o;c!==l;c+=h,u+=3)d[(c+g*f)*4+3]=255,d[(c+g*f)*4+2]=r[u+0],d[(c+g*f)*4+1]=r[u+1],d[(c+g*f)*4+0]=r[u+2];return d},_getImageData32bits:function(e,t,r,a,i,n,o,h,l){let g=e.width,s=e.height,u=0,c,f,d=new Uint8Array(g*s*4);for(f=a;f!==n;f+=i)for(c=o;c!==l;c+=h,u+=4)d[(c+g*f)*4+2]=r[u+0],d[(c+g*f)*4+1]=r[u+1],d[(c+g*f)*4+0]=r[u+2],d[(c+g*f)*4+3]=r[u+3];return d},_getImageDataGrey8bits:function(e,t,r,a,i,n,o,h,l){let g=e.width,s=e.height,u,c=0,f,d,_=new Uint8Array(g*s*4);for(d=a;d!==n;d+=i)for(f=o;f!==l;f+=h,c++)u=r[c],_[(f+g*d)*4+0]=u,_[(f+g*d)*4+1]=u,_[(f+g*d)*4+2]=u,_[(f+g*d)*4+3]=255;return _},_getImageDataGrey16bits:function(e,t,r,a,i,n,o,h,l){let g=e.width,s=e.height,u=0,c,f,d=new Uint8Array(g*s*4);for(f=a;f!==n;f+=i)for(c=o;c!==l;c+=h,u+=2)d[(c+g*f)*4+0]=r[u+0],d[(c+g*f)*4+1]=r[u+0],d[(c+g*f)*4+2]=r[u+0],d[(c+g*f)*4+3]=r[u+1];return d}}}}]);