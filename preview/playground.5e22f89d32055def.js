/*
 *  This file is part of Cosmos Journeyer
 *
 *  Copyright (C) 2024 Barthélemy Paléologue <barth.paleologue@cosmosjourneyer.com>
 *
 *  This program is free software: you can redistribute it and/or modify
 *  it under the terms of the GNU Affero General Public License as published by
 *  the Free Software Foundation, either version 3 of the License, or
 *  (at your option) any later version.
 *
 *  This program is distributed in the hope that it will be useful,
 *  but WITHOUT ANY WARRANTY; without even the implied warranty of
 *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *  GNU Affero General Public License for more details.
 *
 *  You should have received a copy of the GNU Affero General Public License
 *  along with this program.  If not, see <https://www.gnu.org/licenses/>.
 */

(()=>{"use strict";var e,t,r,n,a,o,i={26070:function(e,t,r){r.d(t,{G:()=>o,k:()=>i});var n,a=r(78706),o=((n={}).INVALID_JSON="INVALID_JSON",n.INVALID_SAVE="INVALID_SAVE",n.INVALID_STORAGE_FORMAT="INVALID_STORAGE_FORMAT",n);function i(e){switch(e.type){case"INVALID_JSON":return a.A.t("notifications:invalidSaveFileJson");case"INVALID_SAVE":return a.A.t("notifications:invalidSaveFile");case"INVALID_STORAGE_FORMAT":return a.A.t("notifications:invalidStorageFormat")}}},96887:function(e,t,r){r.d(t,{nc:()=>f,pX:()=>w});var n,a,o=r(70164),i=r(97348),s=r(42503),c=r(85303),u=r(88996),l=r(26070),f={STELLAR_OBJECT:0,PLANETARY_MASS_OBJECT:1,ANOMALY:2,ORBITAL_FACILITY:3},d=o.Ikc({objectType:o.k5n(f),objectIndex:o.aig()}),p=o.Ikc((n=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n})}return e}({},d.shape),a=a={starSystemCoordinates:s.Y},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(a)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(a,e))}),n)),h={WANDERER:0},b=o.Ikc({currentFuel:o.aig(),maxFuel:o.aig()}),m=o.Ikc({fuelPerSecond:o.aig().default(1)}),y=o.Ikc({id:o.uRe().default(function(){return crypto.randomUUID()}),name:o.YjP().default("Wanderer"),type:o.k5n(h).default(h.WANDERER),fuelTanks:o.YOg(b).default([{currentFuel:100,maxFuel:100}]),fuelScoop:o.mee(m).nullable().default({fuelPerSecond:2.5})}),v=o.Ikc({objectId:p,discoveryTimestamp:o.aig().default(0),explorerName:o.YjP().default("Unknown")}),g=o.Ikc({version:o.YjP().default(u.rE),timestamp:o.aig().default(function(){return Date.now()}),player:o.Ikc({uuid:o.YjP().default(function(){return crypto.randomUUID()}),name:o.YjP().default("Python"),balance:o.aig().default(1e4),creationDate:o.YjP().default(new Date().toISOString()),timePlayedSeconds:o.aig().default(0),visitedSystemHistory:o.YOg(s.Y).default([]),discoveries:o.Ikc({local:o.YOg(v).default([]),uploaded:o.YOg(v).default([])}).default({local:[],uploaded:[]}),currentItinerary:o.YOg(s.Y).default([]),systemBookmarks:o.YOg(s.Y).default([]),currentMissions:o.YOg(o.L5J()).default([]),completedMissions:o.YOg(o.L5J()).default([]),spaceShips:o.YOg(y).default([y.parse({})]),tutorials:i.wk.default({flightCompleted:!1,stationLandingCompleted:!1,starMapCompleted:!1,fuelScoopingCompleted:!1})}),universeCoordinates:o.Ikc({universeObjectId:o.Ikc({objectType:o.k5n(f),objectIndex:o.aig(),starSystemCoordinates:s.Y}),positionX:o.aig().default(0),positionY:o.aig().default(0),positionZ:o.aig().default(0),rotationQuaternionX:o.aig().default(0),rotationQuaternionY:o.aig().default(0),rotationQuaternionZ:o.aig().default(0),rotationQuaternionW:o.aig().default(1)}),padNumber:o.aig().optional()});function w(e){var t=g.safeParse(e);return t.success?(0,c.ok)(t.data):(0,c._q)({type:l.G.INVALID_SAVE,content:t.error})}},95901:function(e,t,r){r.d(t,{QU:()=>d});var n=r(67902),a=r(32220),o=r(13679),i=(0,a.p)(o.w.POWER_PLAY_SEED),s=0,c=(0,n.makeNoise3D)(function(){return i(s++)}),u=(0,a.p)(o.w.POWER_PLAY_SEED+598),l=0,f=(0,n.makeNoise3D)(function(){return u(l++)});function d(e){var t,r;return{materialistSpiritualist:(t=e.x,.5*c(.2*t,.2*e.y,.2*e.z)+.5),capitalistCommunist:(r=e.x,.5*f(.2*r,.2*e.y,.2*e.z)+.5)}}},59450:function(e,t,r){r.d(t,{Eq:()=>l,oC:()=>u});var n=r(70164),a=r(28831),o=r(74499),i=r(95293),s=r(54741),c=n.Ikc({id:n.uRe(),name:n.YjP(),components:n.Ikc({primary:n.Ikc({warpDrive:s.i,thrusters:i.Y,fuelTank:a.a}),optional:n.YOg(o.B)})}).extend({type:n.euz("WANDERER"),components:n.Ikc({primary:n.Ikc({warpDrive:s.i.nullable(),thrusters:i.Y.nullable(),fuelTank:a.a.nullable()}),optional:n.PVZ([o.B.nullable(),o.B.nullable(),o.B.nullable()])})});n.gMt("type",[c]);var u=n.gMt("type",[c]);function l(){return c.parse({type:"WANDERER",name:"Wanderer",id:crypto.randomUUID(),components:{primary:{warpDrive:{type:"warpDrive",size:3,quality:1},thrusters:{type:"thrusters",size:3,quality:1},fuelTank:{type:"fuelTank",size:2,quality:1,currentFuel01:1}},optional:[null,{type:"fuelScoop",size:2,quality:1},{type:"discoveryScanner",size:2,quality:1}]}})}},76448:function(e,t,r){r.d(t,{bk:()=>i,Wo:()=>o});var n,a=function(){var e;function t(){if(!(this instanceof t))throw TypeError("Cannot call a class as a function")}return e=[{key:"play",value:function(){}},{key:"setVolume",value:function(){}},{key:"setMaskFactor",value:function(){}},{key:"getMask",value:function(){return 0}},{key:"dispose",value:function(){}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(t.prototype,e),t}(),o=((n={})[n.CLICK=0]="CLICK",n[n.HOVER=1]="HOVER",n[n.SUCCESS=2]="SUCCESS",n[n.ERROR=3]="ERROR",n[n.WARNING=4]="WARNING",n[n.INFO=5]="INFO",n[n.ENABLE_ORBIT_DISPLAY=6]="ENABLE_ORBIT_DISPLAY",n[n.DISABLE_ORBIT_DISPLAY=7]="DISABLE_ORBIT_DISPLAY",n[n.TARGET_LOCK=8]="TARGET_LOCK",n[n.TARGET_UNLOCK=9]="TARGET_UNLOCK",n[n.ITINERARY_COMPUTED=10]="ITINERARY_COMPUTED",n[n.OPEN_PAUSE_MENU=11]="OPEN_PAUSE_MENU",n[n.ENABLE_WARP_DRIVE=12]="ENABLE_WARP_DRIVE",n[n.DISABLE_WARP_DRIVE=13]="DISABLE_WARP_DRIVE",n[n.ACCELERATING_WARP_DRIVE=14]="ACCELERATING_WARP_DRIVE",n[n.DECELERATING_WARP_DRIVE=15]="DECELERATING_WARP_DRIVE",n[n.HYPER_SPACE=16]="HYPER_SPACE",n[n.THRUSTER=17]="THRUSTER",n),i=function(){var e;function t(){if(!(this instanceof t))throw TypeError("Cannot call a class as a function")}return e=[{key:"playNow",value:function(){}},{key:"enqueuePlay",value:function(){}},{key:"createInstance",value:function(){return new a}},{key:"freeInstance",value:function(){}},{key:"setInstanceMask",value:function(){}},{key:"update",value:function(){}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(t.prototype,e),t}()},13997:function(e,t,r){r.d(t,{bm:()=>i,g9:()=>s,yT:()=>o});var n,a,o=((n={})[n.CHARLOTTE=0]="CHARLOTTE",n),i=((a={})[a.INITIATING_PLANETARY_LANDING=0]="INITIATING_PLANETARY_LANDING",a[a.LANDING_REQUEST_GRANTED=1]="LANDING_REQUEST_GRANTED",a[a.LANDING_COMPLETE=2]="LANDING_COMPLETE",a[a.MISSION_COMPLETE=3]="MISSION_COMPLETE",a[a.NEW_DISCOVERY=4]="NEW_DISCOVERY",a[a.CANNOT_ENGAGE_WARP_DRIVE=5]="CANNOT_ENGAGE_WARP_DRIVE",a[a.WARP_DRIVE_EMERGENCY_SHUT_DOWN=6]="WARP_DRIVE_EMERGENCY_SHUT_DOWN",a[a.WARP_DRIVE_DISENGAGED=7]="WARP_DRIVE_DISENGAGED",a[a.ENGAGING_WARP_DRIVE=8]="ENGAGING_WARP_DRIVE",a[a.FUEL_SCOOPING=9]="FUEL_SCOOPING",a[a.FUEL_SCOOPING_COMPLETE=10]="FUEL_SCOOPING_COMPLETE",a[a.LOW_FUEL_WARNING=11]="LOW_FUEL_WARNING",a),s=function(){var e;function t(){if(!(this instanceof t))throw TypeError("Cannot call a class as a function")}return e=[{key:"sayNow",value:function(){}},{key:"enqueueSay",value:function(){}},{key:"update",value:function(){}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(t.prototype,e),t}()},90160:function(e,t,r){function n(e,t){var r=[];if(e.children.forEach(function(e,n){if("x"!==n&&"y"!==n){var a,o,i=e.name;i=i.replace("key:",""),i=null!=(o=null==t||null==(a=t.get(i))?void 0:a.toUpperCase())?o:i,r.push([n,i])}}),void 0===r[0]||void 0===r[1]||void 0===r[2]||void 0===r[3])throw Error("DPadComposite keys are undefined");return[r[2],r[0],r[3],r[1]]}function a(e,t){var r=[];return e.children.forEach(function(e,n){var a,o,i=e.name;i=i.replace("key:",""),i=null!=(o=null==t||null==(a=t.get(i))?void 0:a.toUpperCase())?o:i,r.push([n,i])}),r}function o(e,t){return e.action.bindings.map(function(e){var r,n,a,o;return r=e.control,o=(o=r.name).replace("key:",""),o=null!=(a=null==t||null==(n=t.get(o))?void 0:n.toUpperCase())?a:o})}r.d(t,{Fd:()=>n,Lc:()=>a,hg:()=>o})},90141:function(e,t,r){r.d(t,{Ez:()=>o}),r(39720);var n=r(64244),a=r(9323);function o(e,t,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,i=function(e,t){var r=-1,n=t[0];if(void 0===n)throw Error("no bodieees !");var a=!0,o=!1,i=void 0;try{for(var s,c=t[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var u=s.value,l=e.subtract(u.getTransform().getAbsolutePosition()).length();(-1===r||l<r)&&(n=u,r=l)}}catch(e){o=!0,i=e}finally{try{a||null==c.return||c.return()}finally{if(o)throw i}}return n}(t.getTransform().getAbsolutePosition(),r.getStellarObjects());if(i===t)e.getTransform().setAbsolutePosition(t.getTransform().getAbsolutePosition().add(new n.Pq(0,.2,1).scaleInPlace(t.getBoundingRadius()*o)));else{var s=t.getTransform().getAbsolutePosition().subtract(i.getTransform().getAbsolutePosition()),c=s.length();s.scaleInPlace(1/c);var u=i.getTransform().getAbsolutePosition().add(s.scale(c-o*t.getBoundingRadius()));e.getTransform().setAbsolutePosition(u)}(0,a.t5)(e.getTransform(),t.getTransform().getAbsolutePosition(),e.getTransform().getScene().useRightHandedSystem)}},9323:function(e,t,r){r.d(t,{CL:()=>f,H7:()=>d,Pf:()=>l,Tl:()=>i,e$:()=>s,hQ:()=>c,oh:()=>p,rD:()=>u,t5:()=>o});var n=r(77746),a=r(64244);function o(e,t,r){e.lookAt(t),r&&e.rotate(n._0.Y,Math.PI)}function i(e,t){e.setAbsolutePosition(e.getAbsolutePosition().add(t)),e.computeWorldMatrix(!0)}function s(e,t,r){e.rotate(t,r,n.$x.WORLD)}function c(e){if(null===e.rotationQuaternion)throw Error("Null quaternion for ".concat(e.name));return e.rotationQuaternion}function u(e,t){e.rotationQuaternion=t,e.computeWorldMatrix(!0)}function l(e,t){if(!t.equalsWithEpsilon(e.up,1e-7)){var r=e.up;s(e,a.Pq.Cross(t,r),-Math.acos(a.Pq.Dot(t,r)))}}function f(e,t){s(e,e.forward,t)}function d(e,t){s(e,e.right,t)}function p(e,t){s(e,e.up,t)}},25988:function(e,t,r){r.d(t,{I9:()=>o,yg:()=>i}),r.p,r(74452),r(41077),r(23684);var n,a,o=((n={}).GENERAL="info",n.SPACESHIP="spaceship",n.EXPLORATION="exploration",n.SPACE_STATION="space-station",n),i=((a={}).INFO="info",a.SUCCESS="success",a.WARNING="warning",a.ERROR="error",a)},50551:function(e,t,r){r.d(t,{A:()=>u,h:()=>l});var n=r(27984),a=r(98268),o=r(8334),i=r(9150);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function c(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return s(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,void 0)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var u=function(e,t,r,i){return(0,o.qc)(e,{points:c(t),updatable:!1},{color:new a.v9(r.r,r.g,r.b),width:5,colorMode:n.ZB.COLOR_MODE_SET,sizeAttenuation:!0},i)},l=function(e,t,r,n){var o=new a.ov(r.r,r.g,r.b,1),s=t.map(function(){return o});return(0,i.sh)(e,{points:c(t),colors:s,updatable:!1},n)}},35743:function(e,t,r){r.d(t,{_I:()=>a,ck:()=>i,nH:()=>o});var n=r(64244);function a(e,t){for(var r=Math.floor(e.length/16),n=Math.floor(r/t),a=new Float32Array(16*n),o=0;o<n;o++){var i=16*Math.floor(Math.random()*r);a.set(e.subarray(i,i+16),16*o)}return a}function o(e,t,r,a){for(var o=new Float32Array(r*r*16),i=t/r,s=0,c=0;c<r;c++)for(var u=0;u<r;u++){var l=a()*i,f=a()*i,d=e.x+c*i-t/2+l,p=e.z+u*i-t/2+f,h=.7+.6*a();n.uq.Compose(new n.Pq(h,h,h),n.PT.RotationAxis(n.Pq.Up(),2*a()*Math.PI),new n.Pq(d,0,p)).copyToArray(o,16*s),s+=1}return o}function i(e,t,r,a){if(void 0===e[0]||void 0===e[1]||void 0===e[2]||void 0===e[3]||void 0===e[4]||void 0===e[5]||void 0===e[6]||void 0===e[7]||void 0===e[8]||void 0===e[9]||void 0===e[10]||void 0===e[11]||void 0===e[12]||void 0===e[13]||void 0===e[14]||void 0===e[15])throw Error("Matrix is not defined");t.set(e[12],e[13],e[14]);var o=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);a.set(o,o,o);var i=n.uq.Identity();i.setRowFromFloats(0,e[0]/o,e[1]/o,e[2]/o,0),i.setRowFromFloats(1,e[4]/o,e[5]/o,e[6]/o,0),i.setRowFromFloats(2,e[8]/o,e[9]/o,e[10]/o,0),i.setRowFromFloats(3,0,0,0,1),r.copyFrom(n.PT.FromRotationMatrix(i))}},35867:function(e,t,r){r.a(e,async function(e,t){try{r(59238),r(97377),r(86028);var n,a=r(17327),o=r(54571),i=r(18076),s=r(66857),c=r(34168),u=document.createElement("canvas");document.body.appendChild(u),u.width=window.innerWidth,u.height=window.innerHeight;var l=new o.x(u),f=new a.Engine(u,!0,{useHighPrecisionMatrix:!0});f.useReverseDepthBuffer=!0,f.loadingScreen=l,f.displayLoadingUI();var d=new URLSearchParams(window.location.search),p=null!=(n=d.get("scene"))?n:"",h=new s.D().get(p),b=new i.C;b.addProgressCallback(function(e,t){l.setProgress(e,t),l.loadingUIText="Loading ".concat(p," (").concat(t,"/").concat(e,")")}),b.startTask();var m=await h(f,b);if(window.scene=m,b.completeTask(),null!==d.get("debug")){var y=document.createElement("div");document.body.appendChild(y),y.id="inspectorLayer",await m.debugLayer.show({globalRoot:y})}if(null!==d.get("physicsViewer")){var v=new a.PhysicsViewer(m);m.onBeforeRenderObservable.add(function(){var e=!0,t=!1,r=void 0;try{for(var n,a=m.meshes[Symbol.iterator]();!(e=(n=a.next()).done);e=!0){var o=n.value.physicsBody;o&&v.showBody(o)}}catch(e){t=!0,r=e}finally{try{e||null==a.return||a.return()}finally{if(t)throw r}}})}if(null!==d.get("qr")){var g=new URL(window.location.href);g.searchParams.delete("qr");var w=void 0;void 0!==w&&("localhost"===g.hostname||"127.0.0.1"===g.hostname||"[::1]"===g.hostname)&&(g.hostname=w);var P=g.toString();await (0,c.S)(P)}var S=d.get("freeze"),R=Number(S);if(null!==S&&!isNaN(R)){f.getDeltaTime=function(){return 0};var A=0;m.onAfterRenderObservable.add(function(){if(++A>=R){f.stopRenderLoop(),u.dataset.frozen="1";return}})}m.onAfterRenderObservable.addOnce(function(){u.dataset.ready="1"}),m.executeWhenReady(function(){f.loadingScreen.hideLoadingUI(),f.runRenderLoop(function(){m.render()})}),window.addEventListener("resize",function(){u.width=window.innerWidth,u.height=window.innerHeight,f.resize(!0)}),document.addEventListener("keypress",function(e){"p"===e.key&&null!==m.activeCamera&&a.Tools.CreateScreenshot(f,m.activeCamera,{precision:1})}),window.scene=m,t()}catch(e){t(e)}},1)},66857:function(e,t,r){r.d(t,{D:()=>ro});var n=r(17327),a=r(27746),o=r(41734),i=r(95344);function s(e,t){var r,s=new n.Scene(e,{useFloatingOrigin:!0});s.useRightHandedSystem=!0;var c=new URLSearchParams(window.location.search),u=new n.ArcRotateCamera("ArcRotateCamera",0,3.14/3,3e6,n.Vector3.Zero(),s);u.attachControl(),u.wheelPrecision/=3e4,u.maxZ=1e8;var l=s.enableDepthRenderer(null,!1,!0),f=(0,a.h)("juliaSet",Number(null!=(r=c.get("seed"))?r:1e5*Math.random()),"Julia Set",[]),d=new i.i(f,s),p=new o.t(d.getTransform(),d.getBoundingRadius(),f.accentColor,s,[]);return s.cameras.forEach(function(e){return e.attachPostProcess(p)}),s.onNewCameraAddedObservable.add(function(e){e.attachPostProcess(p)}),s.onBeforeRenderObservable.add(function(){var t=e.getDeltaTime()/1e3;p.update(t)}),s.onBeforeCameraRenderObservable.add(function(e){l.getDepthMap().activeCamera=e}),Promise.resolve(s)}var c=r(23523),u=r(40089);function l(e,t){var r,a=new n.Scene(e,{useFloatingOrigin:!0});a.useRightHandedSystem=!0;var o=new URLSearchParams(window.location.search),s=new n.ArcRotateCamera("ArcRotateCamera",0,3.14/3,5e5,n.Vector3.Zero(),a);s.attachControl(),s.wheelPrecision/=1e3,s.maxZ=1e8;var l=a.enableDepthRenderer(null,!1,!0),f=(0,c.c)("mandelbox",Number(null!=(r=o.get("seed"))?r:1e5*Math.random()),"Mandelbox",[]),d=new i.i(f,a),p=new u.M(d.getTransform(),d.getBoundingRadius(),f,a,[]);return a.cameras.forEach(function(e){return e.attachPostProcess(p)}),a.onNewCameraAddedObservable.add(function(e){e.attachPostProcess(p)}),a.onBeforeRenderObservable.add(function(){var t=e.getDeltaTime()/1e3;p.update(t)}),a.onBeforeCameraRenderObservable.add(function(e){l.getDepthMap().activeCamera=e}),Promise.resolve(a)}var f=r(36495),d=r(14632);function p(e,t){var r,a=new n.Scene(e,{useFloatingOrigin:!0});a.useRightHandedSystem=!0;var o=new URLSearchParams(window.location.search),s=new n.ArcRotateCamera("ArcRotateCamera",0,3.14/3,3e6,n.Vector3.Zero(),a);s.attachControl(),s.wheelPrecision/=3e4,s.maxZ=1e8;var c=a.enableDepthRenderer(null,!1,!0),u=(0,f.G)("mandelbulb",Number(null!=(r=o.get("seed"))?r:1e5*Math.random()),"Mandelbulb",[]),l=new i.i(u,a),p=new d.W(l.getTransform(),l.getBoundingRadius(),u,a,[]);return a.cameras.forEach(function(e){return e.attachPostProcess(p)}),a.onNewCameraAddedObservable.add(function(e){e.attachPostProcess(p)}),a.onBeforeRenderObservable.add(function(){var t=e.getDeltaTime()/1e3;p.update(t)}),a.onBeforeCameraRenderObservable.add(function(e){c.getDepthMap().activeCamera=e}),Promise.resolve(a)}var h=r(6961),b=r(21931);function m(e,t){var r,a=new n.Scene(e,{useFloatingOrigin:!0});a.useRightHandedSystem=!0;var o=new URLSearchParams(window.location.search),s=new n.ArcRotateCamera("ArcRotateCamera",0,3.14/3,5e5,n.Vector3.Zero(),a);s.attachControl(),s.wheelPrecision/=1e3,s.maxZ=1e8;var c=a.enableDepthRenderer(null,!1,!0),u=(0,h.w)("mengerSponge",Number(null!=(r=o.get("seed"))?r:1e5*Math.random()),"Menger Sponge",[]),l=new i.i(u,a),f=new b.Q(l.getTransform(),l.getBoundingRadius(),u,a,[]);return a.cameras.forEach(function(e){return e.attachPostProcess(f)}),a.onNewCameraAddedObservable.add(function(e){e.attachPostProcess(f)}),a.onBeforeRenderObservable.add(function(){var t=e.getDeltaTime()/1e3;f.update(t)}),a.onBeforeCameraRenderObservable.add(function(e){c.getDepthMap().activeCamera=e}),Promise.resolve(a)}var y=r(2888),v=r(49466);function g(e,t){var r,a=new n.Scene(e,{useFloatingOrigin:!0});a.useRightHandedSystem=!0;var o=new URLSearchParams(window.location.search),s=new n.ArcRotateCamera("ArcRotateCamera",0,3.14/3,5e5,n.Vector3.Zero(),a);s.attachControl(),s.wheelPrecision/=1e3,s.maxZ=1e8;var c=a.enableDepthRenderer(null,!1,!0),u=(0,y.p)("sierpinski",Number(null!=(r=o.get("seed"))?r:1e5*Math.random()),"Sierpinski Pyramid",[]),l=new i.i(u,a),f=new v.$(l.getTransform(),l.getBoundingRadius(),u,a,[]);return a.cameras.forEach(function(e){return e.attachPostProcess(f)}),a.onNewCameraAddedObservable.add(function(e){e.attachPostProcess(f)}),a.onBeforeRenderObservable.add(function(){var t=e.getDeltaTime()/1e3;f.update(t)}),a.onBeforeCameraRenderObservable.add(function(e){c.getDepthMap().activeCamera=e}),Promise.resolve(a)}var w=r(68730),P=r(61955),S=r(9323),R=r(76753),A=r(49027),T=r(34168);function O(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){r(e);return}s.done?t(c):Promise.resolve(c).then(n,a)}function E(e,t){var r;return(r=function(){var r,a,o,i,s,c,u;return function(e,t){var r,n,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=s(0),i.throw=s(1),i.return=s(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){var u=[s,c];if(r)throw TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(o=0)),o;)try{if(r=1,n&&(a=2&u[0]?n.return:u[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,u[1])).done)return a;switch(n=0,a&&(u=[2&u[0],a.value]),u[0]){case 0:case 1:a=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,n=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!a||u[1]>a[0]&&u[1]<a[3])){o.label=u[1];break}if(6===u[0]&&o.label<a[1]){o.label=a[1],a=u;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(u);break}a[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],n=0}finally{r=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}(this,function(l){switch(l.label){case 0:return(r=new n.Scene(e,{useFloatingOrigin:!0})).useRightHandedSystem=!0,[4,(0,T.z)(r)];case 1:return l.sent(),(o=(a=new P.w(r)).getActiveCamera()).attachControl(),r.enableDepthRenderer(o,!1,!0),[4,(0,w.jP)(r,t)];case 2:return i=l.sent(),new n.DirectionalLight("sun",new n.Vector3(1,-1,0),r).intensity=.7,new n.HemisphericLight("hemi",n.Vector3.Up(),r).intensity=.4,a.getTransform().position.z=-75e3,a.getTransform().position.y=1500,a.speed*=500,o.maxZ*=500,s=n.MeshBuilder.CreateSphere("sphere",{diameter:1e4},r),new n.PhysicsAggregate(s,n.PhysicsShapeType.SPHERE,{mass:0},r),A.q.BATCH_SIZE=1e4,c=new R.U(42,s,6e4,127500,r),(u=n.MeshBuilder.CreateTorus("torus",{diameter:17e4,thickness:1e5,tessellation:32},r)).visibility=.1,u.parent=s,u.scaling.y=2e-4,(0,S.t5)(a.getTransform(),s.position,r.useRightHandedSystem),r.onBeforeRenderObservable.add(function(){a.update(e.getDeltaTime()/1e3),c.update(a.getTransform().getAbsolutePosition(),i,e.getDeltaTime()/1e3)}),[2,r]}})},function(){var e=this,t=arguments;return new Promise(function(n,a){var o=r.apply(e,t);function i(e){O(o,n,a,i,s,"next",e)}function s(e){O(o,n,a,i,s,"throw",e)}i(void 0)})})()}var x=r(28607),I=r(59241),C=r(52030);function k(e,t){var r=new x.Z(e,{useFloatingOrigin:!0});r.useRightHandedSystem=!0;var a=new P.w(r),o=a.getActiveCamera();a.speed=6e6,o.maxZ*=6e6,a.getTransform().setAbsolutePosition(new n.Vector3(0,1,-2).scaleInPlace(6e6)),(0,S.t5)(a.getTransform(),n.Vector3.Zero(),r.useRightHandedSystem),o.attachControl(),r.enableDepthRenderer(null,!1,!0);var i=new n.PointLight("light1",new n.Vector3(6e7,0,0),r),s=n.MeshBuilder.CreateSphere("sphere",{diameter:12e6,segments:64},r),c=new I.Q(6e6,1e5),u=new C.D(s,6e6,c,[i],r);return o.attachPostProcess(u),r.onBeforeRenderObservable.add(function(){var e=r.getEngine().getDeltaTime()/1e3;a.update(e)}),Promise.resolve(r)}var _=r(91902),M=r(64244),D=r(43589),j=r(97730),N=r(55427),L=r(76448),B=r(53314),F=r(89901),V=r(13679);function H(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){r(e);return}s.done?t(c):Promise.resolve(c).then(n,a)}function U(e,t){var r;return(r=function(){var r,a,o,i,s,c,u,l,f;return function(e,t){var r,n,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=s(0),i.throw=s(1),i.return=s(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){var u=[s,c];if(r)throw TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(o=0)),o;)try{if(r=1,n&&(a=2&u[0]?n.return:u[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,u[1])).done)return a;switch(n=0,a&&(u=[2&u[0],a.value]),u[0]){case 0:case 1:a=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,n=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!a||u[1]>a[0]&&u[1]<a[3])){o.label=u[1];break}if(6===u[0]&&o.label<a[1]){o.label=a[1],a=u;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(u);break}a[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],n=0}finally{r=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}(this,function(d){switch(d.label){case 0:return(r=new x.Z(e)).useRightHandedSystem=!0,[4,(0,T.z)(r)];case 1:return d.sent(),[4,(0,N.Q)(r,t)];case 2:return a=d.sent(),o=new L.bk,(i=B.Z.CreateDefault(r,a,o)).getTransform().position.copyFromFloats((0,D.randRange)(-50,50,Math.random,0),(0,D.randRange)(30,50,Math.random,0),(0,D.randRange)(-50,50,Math.random,0)),i.getTransform().rotationQuaternion=n.Quaternion.Random().normalize(),(s=new P.w(r)).getTransform().position.copyFromFloats(0,10,75),s.speed*=10,(c=s.getActiveCamera()).minZ=.1,c.attachControl(),u=new j.r(42,F.a.SMALL,a,r),(l=n.MeshBuilder.CreateBox("ground",{width:100,height:1,depth:100},r)).position.y=-2,l.position.x=75,(f=new n.PhysicsAggregate(l,n.PhysicsShapeType.BOX,{mass:0},r)).shape.filterMembershipMask=V.H.ENVIRONMENT,f.shape.filterCollideMask=V.H.DYNAMIC_OBJECTS,new _.g("hemi",M.Pq.Up(),r).intensity=.7,i.engageLandingOnPad(u),r.onBeforeRenderObservable.add(function(){var t=e.getDeltaTime()/1e3;i.update(t),s.update(t)}),[2,r]}})},function(){var e=this,t=arguments;return new Promise(function(n,a){var o=r.apply(e,t);function i(e){H(o,n,a,i,s,"next",e)}function s(e){H(o,n,a,i,s,"throw",e)}i(void 0)})})()}var G=r(72856),q=r(85883),Z=r(82886);function Y(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){r(e);return}s.done?t(c):Promise.resolve(c).then(n,a)}function W(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var o=e.apply(t,r);function i(e){Y(o,n,a,i,s,"next",e)}function s(e){Y(o,n,a,i,s,"throw",e)}i(void 0)})}}function z(e,t){var r,n,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=s(0),i.throw=s(1),i.return=s(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){var u=[s,c];if(r)throw TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(o=0)),o;)try{if(r=1,n&&(a=2&u[0]?n.return:u[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,u[1])).done)return a;switch(n=0,a&&(u=[2&u[0],a.value]),u[0]){case 0:case 1:a=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,n=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!a||u[1]>a[0]&&u[1]<a[3])){o.label=u[1];break}if(6===u[0]&&o.label<a[1]){o.label=a[1],a=u;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(u);break}a[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],n=0}finally{r=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}function Q(e,t){return W(function(){var r,a,o,i,s,c,u,l,f;return z(this,function(d){switch(d.label){case 0:return(a=new x.Z(e)).useRightHandedSystem=!0,[4,(0,T.z)(a,new M.Pq(0,-9.81,0))];case 1:return d.sent(),null==(r=e.getRenderingCanvas())||r.addEventListener("click",function(){return W(function(){var t;return z(this,function(r){switch(r.label){case 0:return[4,null==(t=e.getRenderingCanvas())?void 0:t.requestPointerLock()];case 1:return r.sent(),[2]}})})()}),[4,(0,G.f)(a,t)];case 2:var p,h;if(o=d.sent(),(i=new n.DirectionalLight("dir01",new M.Pq(1,-2,-1),a)).position=new M.Pq(5,5,5).scaleInPlace(10),new n.HemisphericLight("hemi",new M.Pq(0,1,0),a).intensity=.5,(s=new n.ShadowGenerator(1024,i)).useBlurExponentialShadowMap=!0,p=c=o.default.instantiateHierarchy(null),null!=(h=n.AbstractMesh)&&"undefined"!=typeof Symbol&&h[Symbol.hasInstance]?!h[Symbol.hasInstance](p):!(p instanceof h))throw Error("Character object is null");return(u=new q.Y(c,a)).getTransform().position.y=40,null!==new URLSearchParams(window.location.search).get("thirdPerson")&&u.setThirdPersonCameraActive(),u.getActiveCamera().attachControl(),Z.b.setEnabled(!0),s.addShadowCaster(u.character),l=n.MeshBuilder.CreateIcoSphere("ground",{radius:40},a),new n.PhysicsAggregate(l,n.PhysicsShapeType.MESH,{mass:0},a),(f=new n.PBRMetallicRoughnessMaterial("groundMaterial",a)).baseColor=new n.Color3(.5,.5,.5),l.material=f,l.receiveShadows=!0,u.setClosestWalkableObject({getTransform:function(){return l}}),a.onBeforeRenderObservable.add(function(){if(u.getActiveCamera()!==a.activeCamera){null==(t=a.activeCamera)||t.detachControl();var t,r=u.getActiveCamera();r.attachControl(),a.activeCamera=r}var n=e.getDeltaTime()/1e3;u.update(n)}),[2,a]}})})()}var X=r(6408),J=r(89148),K=r(61012),$=r(3032);function ee(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){r(e);return}s.done?t(c):Promise.resolve(c).then(n,a)}function et(e,t){var r;return(r=function(){var r,a,o,i,s;return function(e,t){var r,n,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=s(0),i.throw=s(1),i.return=s(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){var u=[s,c];if(r)throw TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(o=0)),o;)try{if(r=1,n&&(a=2&u[0]?n.return:u[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,u[1])).done)return a;switch(n=0,a&&(u=[2&u[0],a.value]),u[0]){case 0:case 1:a=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,n=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!a||u[1]>a[0]&&u[1]<a[3])){o.label=u[1];break}if(6===u[0]&&o.label<a[1]){o.label=a[1],a=u;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(u);break}a[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],n=0}finally{r=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}(this,function(c){switch(c.label){case 0:return(r=new n.Scene(e,{useFloatingOrigin:!0})).useRightHandedSystem=!0,[4,(0,J.s)(r,t)];case 1:return a=c.sent(),new $.y(a.milkyWay,1e6,r),(i=(o=new P.w(r)).getActiveCamera()).attachControl(),r.enableDepthRenderer(),o.speed=s=new K.i((0,X.S)([]),r).getBoundingRadius(),i.maxZ*=s,o.getTransform().setAbsolutePosition(new n.Vector3(0,1,-2).scaleInPlace(s)),(0,S.t5)(o.getTransform(),n.Vector3.Zero(),r.useRightHandedSystem),r.onBeforeRenderObservable.add(function(){var e=r.getEngine().getDeltaTime()/1e3;o.update(e)}),[2,r]}})},function(){var e=this,t=arguments;return new Promise(function(n,a){var o=r.apply(e,t);function i(e){ee(o,n,a,i,s,"next",e)}function s(e){ee(o,n,a,i,s,"throw",e)}i(void 0)})})()}function er(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function en(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){r(e);return}s.done?t(c):Promise.resolve(c).then(n,a)}function ea(e,t){var r;return(r=function(){var r,a,o,i,s,c,u,l,f,d,p,h,b,m,y,v,g,w,P,S,R,A,O,E,I;return function(e,t){var r,n,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=s(0),i.throw=s(1),i.return=s(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){var u=[s,c];if(r)throw TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(o=0)),o;)try{if(r=1,n&&(a=2&u[0]?n.return:u[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,u[1])).done)return a;switch(n=0,a&&(u=[2&u[0],a.value]),u[0]){case 0:case 1:a=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,n=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!a||u[1]>a[0]&&u[1]<a[3])){o.label=u[1];break}if(6===u[0]&&o.label<a[1]){o.label=a[1],a=u;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(u);break}a[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],n=0}finally{r=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}(this,function(C){switch(C.label){case 0:return(r=new x.Z(e)).useRightHandedSystem=!0,[4,(0,T.z)(r)];case 1:return C.sent(),[4,(0,N.Q)(r,t)];case 2:C.sent(),(a=new n.FreeCamera("camera",new M.Pq(0,1,-1).scale(15),r)).setTarget(M.Pq.Zero()),a.attachControl(),new n.PointLight("light",new M.Pq(0,100,-10),r),new _.g("hemisphericLight",new M.Pq(0,1,0),r).intensity=.5,o=0,i=!0,s=!1,c=void 0;try{for(u=r.meshes[Symbol.iterator]();!(i=(l=u.next()).done);i=!0)(f=l.value).isVisible=!0,null===f.parent&&(o++,d=f.getHierarchyBoundingVectors(),p=Math.max(d.max.x-d.min.x,d.max.y-d.min.y,d.max.z-d.min.z),f.scaling.scaleInPlace(1/p),f.position=new M.Pq(10+o%10-5,0,Math.floor(o/10)-5))}catch(e){s=!0,c=e}finally{try{i||null==u.return||u.return()}finally{if(s)throw c}}h=r.transformNodes.slice(),b=!0,m=!1,y=void 0;try{for(v=h[Symbol.iterator]();!(b=(g=v.next()).done);b=!0)g.value.instantiateHierarchy()}catch(e){m=!0,y=e}finally{try{b||null==v.return||v.return()}finally{if(m)throw y}}w=!0,P=!1,S=void 0;try{for(R=r.textures.entries()[Symbol.iterator]();!(w=(A=R.next()).done);w=!0){var k;k=A.value,E=(O=function(e){if(Array.isArray(e))return e}(k)||function(e,t){var r,n,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],i=!0,s=!1;try{for(a=a.call(e);!(i=(r=a.next()).done)&&(o.push(r.value),2!==o.length);i=!0);}catch(e){s=!0,n=e}finally{try{i||null==a.return||a.return()}finally{if(s)throw n}}return o}}(k,2)||function(e,t){if(e){if("string"==typeof e)return er(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return er(e,2)}}(k,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],I=O[1],function(e,t){var a=n.MeshBuilder.CreateGround("plane",{width:.9,height:.9},r),o=new n.StandardMaterial("material",r);o.emissiveTexture=e,o.disableLighting=!0,o.specularColor.scaleInPlace(0),a.position=t,a.material=o}(I,new M.Pq(E%10-5,0,Math.floor(E/10)-5))}}catch(e){P=!0,S=e}finally{try{w||null==R.return||R.return()}finally{if(P)throw S}}return[2,r]}})},function(){var e=this,t=arguments;return new Promise(function(n,a){var o=r.apply(e,t);function i(e){en(o,n,a,i,s,"next",e)}function s(e){en(o,n,a,i,s,"throw",e)}i(void 0)})})()}function eo(e,t){var r=new x.Z(e),a=new n.FreeCamera("camera1",new n.Vector3(0,5,-10),r);return a.setTarget(n.Vector3.Zero()),a.attachControl(),new n.HemisphericLight("light1",new n.Vector3(0,1,0),r).intensity=.7,n.MeshBuilder.CreateSphere("sphere",{diameter:2,segments:32},r).position.y=1,n.MeshBuilder.CreateGround("ground",{width:6,height:6},r),Promise.resolve(r)}var ei=r(13997),es=r(43328),ec=r(84369);r(25988);var eu=function(){var e;function t(){if(!(this instanceof t))throw TypeError("Cannot call a class as a function")}return e=[{key:"update",value:function(){}},{key:"create",value:function(){}},{key:"setVisible",value:function(){}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(t.prototype,e),t}();function el(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){r(e);return}s.done?t(c):Promise.resolve(c).then(n,a)}function ef(e,t){var r;return(r=function(){var r,a,o,i,s,c,u,l,f,d,p,h;return function(e,t){var r,n,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=s(0),i.throw=s(1),i.return=s(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){var u=[s,c];if(r)throw TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(o=0)),o;)try{if(r=1,n&&(a=2&u[0]?n.return:u[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,u[1])).done)return a;switch(n=0,a&&(u=[2&u[0],a.value]),u[0]){case 0:case 1:a=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,n=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!a||u[1]>a[0]&&u[1]<a[3])){o.label=u[1];break}if(6===u[0]&&o.label<a[1]){o.label=a[1],a=u;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(u);break}a[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],n=0}finally{r=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}(this,function(b){switch(b.label){case 0:return(r=new x.Z(e)).useRightHandedSystem=!0,r.defaultCursor="crosshair",[4,(0,T.z)(r)];case 1:return b.sent(),[4,(0,N.Q)(r,t)];case 2:return a=b.sent(),o=new L.bk,i=new ei.g9,s=new eu,(u=(c=es.l.CreateDefault(r,a,i,o,s)).getActiveCamera()).minZ=.1,u.attachControl(),r.activeCamera=u,ec._.setEnabled(!0),new _.g("hemi",M.Pq.Up(),r).intensity=1,l=n.MeshBuilder.CreateBox("box",{size:50},r),f=new n.SolidParticleSystem("boxes",r,{updatable:!1}),d=function(e,t){return Math.random()*(t-e)+e},f.addShape(l,1e4,{positionFunction:function(e){e.position=new M.Pq(d(-1,1),d(-1,1),d(-1,1)).scaleInPlace(5e3)}}),p=f.buildMesh(),(h=new n.PBRMetallicRoughnessMaterial("material",r)).baseColor=new n.Color3(.5,.5,.5),h.metallic=0,h.roughness=.5,p.material=h,l.setEnabled(!1),r.onBeforeRenderObservable.add(function(){var t=e.getDeltaTime()/1e3;c.update(t)}),[2,r]}})},function(){var e=this,t=arguments;return new Promise(function(n,a){var o=r.apply(e,t);function i(e){el(o,n,a,i,s,"next",e)}function s(e){el(o,n,a,i,s,"throw",e)}i(void 0)})})()}var ed=r(63880),ep=r(87948),eh=r(96397),eb=r(26067),em=r(12044),ey=r(61984),ev=r(73321);function eg(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){r(e);return}s.done?t(c):Promise.resolve(c).then(n,a)}function ew(e,t){var r;return(r=function(){var r,a,o,i,s,c,u,l,f,d,p,h,b;return function(e,t){var r,n,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=s(0),i.throw=s(1),i.return=s(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){var u=[s,c];if(r)throw TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(o=0)),o;)try{if(r=1,n&&(a=2&u[0]?n.return:u[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,u[1])).done)return a;switch(n=0,a&&(u=[2&u[0],a.value]),u[0]){case 0:case 1:a=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,n=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!a||u[1]>a[0]&&u[1]<a[3])){o.label=u[1];break}if(6===u[0]&&o.label<a[1]){o.label=a[1],a=u;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(u);break}a[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],n=0}finally{r=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}(this,function(m){switch(m.label){case 0:return(r=new n.Scene(e,{useFloatingOrigin:!0})).useRightHandedSystem=!0,r.clearColor.setAll(0),[4,(0,ep.P)(r,t)];case 1:return a=m.sent(),[4,(0,T.z)(r)];case 2:if(m.sent(),o=10*V.w.EARTH_RADIUS,s=(i=new P.w(r)).getActiveCamera(),i.speed=o,s.maxZ*=o,i.getTransform().setAbsolutePosition(new n.Vector3(0,1,-2).scaleInPlace(o)),(0,S.t5)(i.getTransform(),n.Vector3.Zero(),r.useRightHandedSystem),s.attachControl(),r.enableDepthRenderer(null,!1,!0),c=new n.PointLight("light1",new n.Vector3(7,5,-10).scaleInPlace(o),r),u=new URLSearchParams(window.location.search).get("seed"),l=(0,ed.p)("gasPlanet",null!==u?Number(u):1e3*Math.random(),"Gas Planet",[]),f=new ev.K(function(){return new eb.q(r)}),d=new ey.s(l,a,f,r),p=new em.U(d.getTransform(),d.getBoundingRadius(),d.ringsUniforms,null,!1,[{getBoundingRadius:function(){return 0},getLight:function(){return c}}],r),s.attachPostProcess(p),h=new C.D(d.getTransform(),d.getBoundingRadius(),d.atmosphereUniforms,[c],r),s.attachPostProcess(h),!d.ringsUniforms)return[3,4];return b=new eh.b(d.getTransform(),d.ringsUniforms,l,[c],r),s.attachPostProcess(b),[4,new Promise(function(e){var t;(null==(t=d.ringsUniforms)?void 0:t.patternLut.type)==="procedural"&&d.ringsUniforms.patternLut.lut.getTexture().executeWhenReady(function(){e()})})];case 3:m.sent(),m.label=4;case 4:return r.onBeforeRenderObservable.add(function(){var e=r.getEngine().getDeltaTime()/1e3;i.update(e),d.updateMaterial([c],e)}),[2,r]}})},function(){var e=this,t=arguments;return new Promise(function(n,a){var o=r.apply(e,t);function i(e){eg(o,n,a,i,s,"next",e)}function s(e){eg(o,n,a,i,s,"throw",e)}i(void 0)})})()}var eP=r(2733),eS=r(26016),eR=r(75540),eA=r(35743),eT=r(98968);function eO(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){r(e);return}s.done?t(c):Promise.resolve(c).then(n,a)}function eE(e,t){var r;return(r=function(){var r,a,o,i,s,c,u,l,f,d;return function(e,t){var r,n,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=s(0),i.throw=s(1),i.return=s(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){var u=[s,c];if(r)throw TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(o=0)),o;)try{if(r=1,n&&(a=2&u[0]?n.return:u[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,u[1])).done)return a;switch(n=0,a&&(u=[2&u[0],a.value]),u[0]){case 0:case 1:a=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,n=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!a||u[1]>a[0]&&u[1]<a[3])){o.label=u[1];break}if(6===u[0]&&o.label<a[1]){o.label=a[1],a=u;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(u);break}a[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],n=0}finally{r=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}(this,function(p){switch(p.label){case 0:return r=new x.Z(e),[4,(0,ep.P)(r,t)];case 1:return a=p.sent(),(o=new n.FreeCamera("camera1",new n.Vector3(0,5,-10),r)).setTarget(n.Vector3.Zero()),o.attachControl(),i=new n.PointLight("light1",new n.Vector3(200,800,100),r),n.MeshBuilder.CreateSphere("lightSphere",{diameter:.1,segments:8},r).position=i.position,(s=n.MeshBuilder.CreateGround("ground",{width:32,height:32,subdivisions:4},r)).setEnabled(!1),(c=(0,eS.R)(r,5)).isVisible=!1,(u=new eR.y(r,a.noises,!1)).setPlanet(s),c.material=u,l=(0,eP.seededSquirrelNoise)(0),f=0,d=function(){return l(f++)},new eT.l((0,eA.nH)(n.Vector3.Zero(),32,256,d)).createInstances([{mesh:c,distance:0}]),r.onBeforeRenderObservable.add(function(){var t=e.getDeltaTime()/1e3;u.update([i],new n.Vector3(0,10,0),t)}),[2,r]}})},function(){var e=this,t=arguments;return new Promise(function(n,a){var o=r.apply(e,t);function i(e){eO(o,n,a,i,s,"next",e)}function s(e){eO(o,n,a,i,s,"throw",e)}i(void 0)})})()}var ex=r(72570);function eI(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){r(e);return}s.done?t(c):Promise.resolve(c).then(n,a)}function eC(e,t){var r;return(r=function(){var t,r,a,o,i,s,c,u,l,f,d,p,h;return function(e,t){var r,n,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=s(0),i.throw=s(1),i.return=s(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){var u=[s,c];if(r)throw TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(o=0)),o;)try{if(r=1,n&&(a=2&u[0]?n.return:u[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,u[1])).done)return a;switch(n=0,a&&(u=[2&u[0],a.value]),u[0]){case 0:case 1:a=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,n=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!a||u[1]>a[0]&&u[1]<a[3])){o.label=u[1];break}if(6===u[0]&&o.label<a[1]){o.label=a[1],a=u;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(u);break}a[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],n=0}finally{r=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}(this,function(b){switch(b.label){case 0:return(t=new n.Scene(e)).useRightHandedSystem=!0,[4,(0,T.z)(t)];case 1:for(b.sent(),(r=new n.DirectionalLight("sun",new n.Vector3(.5,-1,-.5),t)).position=new n.Vector3(0,50,50),r.autoUpdateExtends=!0,t.onAfterRenderObservable.addOnce(function(){r.autoUpdateExtends=!1}),(a=new n.ShadowGenerator(2048,r)).useExponentialShadowMap=!0,a.usePercentageCloserFiltering=!0,a.useBlurExponentialShadowMap=!0,a.transparencyShadow=!0,(o=n.MeshBuilder.CreateSphere("ground",{diameter:20},t)).receiveShadows=!0,i=10/3,(s=n.MeshBuilder.CreateSphere("sphere2",{diameter:2*i},t)).receiveShadows=!0,s.position.x=40,(c=new n.PBRMaterial("groundMaterial",t)).albedoColor.set(.8,.4,.2),c.metallic=0,c.roughness=.7,o.material=c,s.material=c,new n.PhysicsAggregate(o,n.PhysicsShapeType.SPHERE,{mass:0,restitution:0,friction:2},t),new n.PhysicsAggregate(s,n.PhysicsShapeType.SPHERE,{mass:0,restitution:0,friction:2},t).body.disablePreStep=!1,u=function(){var e=2*Math.random()*Math.PI,t=Math.acos(2*Math.random()-1),r=Math.sin(t)*Math.cos(e),a=Math.sin(t)*Math.sin(e),o=Math.cos(t);return new n.Vector3(r,a,o)},l=0;l<200;l++)(f=n.MeshBuilder.CreateBox("box".concat(l),{size:.2+Math.random()},t)).position=u().scaleInPlace(10+40*Math.random()),f.rotation=new n.Vector3(Math.random(),Math.random(),Math.random()),a.addShadowCaster(f),(d=new n.PBRMaterial("boxMaterial",t)).albedoColor=n.Color3.Random(),d.metallic=0,d.roughness=.7,f.material=d,new n.PhysicsAggregate(f,n.PhysicsShapeType.BOX,{mass:50,restitution:.3,friction:1},t).body.applyImpulse(u().scale(1e3*Math.random()),f.position);return new n.ArcRotateCamera("Camera",Math.PI/3,Math.PI/3,80,n.Vector3.Zero(),t).attachControl(),p=new ex.q(t),h=0,t.onBeforePhysicsObservable.add(function(){var t=e.getDeltaTime()/1e3;h+=t,s.position.copyFromFloats(50*Math.cos(2*Math.PI*h/10),50*Math.sin(2*Math.PI*h/10),0),p.applyGravity([{name:"sphere1",mass:1,radius:10,position:o.position},{name:"sphere2",mass:1,radius:i,position:s.position}])}),[2,t]}})},function(){var e=this,t=arguments;return new Promise(function(n,a){var o=r.apply(e,t);function i(e){eI(o,n,a,i,s,"next",e)}function s(e){eI(o,n,a,i,s,"throw",e)}i(void 0)})})()}var ek=r(64957),e_=r(77746),eM=r(85630);function eD(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){r(e);return}s.done?t(c):Promise.resolve(c).then(n,a)}function ej(e,t){var r;return(r=function(){var r,n,a,o,i;return function(e,t){var r,n,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=s(0),i.throw=s(1),i.return=s(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){var u=[s,c];if(r)throw TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(o=0)),o;)try{if(r=1,n&&(a=2&u[0]?n.return:u[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,u[1])).done)return a;switch(n=0,a&&(u=[2&u[0],a.value]),u[0]){case 0:case 1:a=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,n=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!a||u[1]>a[0]&&u[1]<a[3])){o.label=u[1];break}if(6===u[0]&&o.label<a[1]){o.label=a[1],a=u;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(u);break}a[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],n=0}finally{r=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}(this,function(s){switch(s.label){case 0:return(r=new x.Z(e)).useRightHandedSystem=!0,(a=(n=new P.w(r)).getActiveCamera()).attachControl(),r.enableDepthRenderer(a,!1,!0),[4,(0,ep.P)(r,t)];case 1:return o=s.sent(),new ek.Z("sun",new M.Pq(1,-1,0),r).intensity=.7,i=new eM.R(e_._0.Z,r,o.noises),r.onBeforeRenderObservable.add(function(){n.update(e.getDeltaTime()/1e3),i.update(e.getDeltaTime()/1e3)}),[2,r]}})},function(){var e=this,t=arguments;return new Promise(function(n,a){var o=r.apply(e,t);function i(e){eD(o,n,a,i,s,"next",e)}function s(e){eD(o,n,a,i,s,"throw",e)}i(void 0)})})()}var eN=r(33109),eL=r(12299),eB=r(84830),eF=r(33871);function eV(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var eH=function(){var e;function t(e,r){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");eV(this,"_transform",void 0),eV(this,"model",void 0),eV(this,"type",void 0),eV(this,"boundingRadius",void 0),this._transform=e,this._transform.rotationQuaternion=M.PT.Identity(),this.model=r,this.type=r.type;var n=this.getTransform().getHierarchyBoundingVectors();this.boundingRadius=n.max.subtract(n.min).length()/2}return e=[{key:"getTransform",value:function(){return this._transform}},{key:"getBoundingRadius",value:function(){return this.boundingRadius}},{key:"getTypeName",value:function(){return"Wrapped Orbital Object"}},{key:"dispose",value:function(){this.getTransform().dispose()}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(t.prototype,e),t}(),eU=r(50551),eG=r(79618);function eq(e,t){var r=new x.Z(e,{useFloatingOrigin:!0});r.useRightHandedSystem=!0;var n=new P.w(r),a=n.getActiveCamera();a.minZ=.1,a.attachControl(),new _.g("hemi",M.Pq.Up(),r).intensity=1;var o=new eH(eN.P.CreateSphere("sun",{diameter:1},r),{id:"sun",name:"Sun",orbit:{parentIds:[],argumentOfPeriapsis:0,semiMajorAxis:0,initialMeanAnomaly:0,longitudeOfAscendingNode:0,inclination:0,eccentricity:0,p:2},type:"custom",axialTilt:0,mass:1e12,siderealDaySeconds:0}),i=new eH(eN.P.CreateSphere("earth",{diameter:.5},r),{id:"earth",name:"Earth",orbit:{parentIds:[o.model.id],argumentOfPeriapsis:0,semiMajorAxis:10,initialMeanAnomaly:0,longitudeOfAscendingNode:1.7,inclination:eL.S0.ToRadians(23.5),eccentricity:.5,p:2},type:"custom",axialTilt:eL.S0.ToRadians(23.5),mass:1e11,siderealDaySeconds:0}),s=new eH(eN.P.CreateSphere("moon",{diameter:.2},r),{id:"moon",name:"Moon",orbit:{parentIds:[i.model.id],argumentOfPeriapsis:0,semiMajorAxis:3,initialMeanAnomaly:0,longitudeOfAscendingNode:0,inclination:i.model.orbit.inclination+i.model.axialTilt,eccentricity:.7,p:2},type:"custom",mass:1e10,axialTilt:0,siderealDaySeconds:0}),c=[o,i,s],u=new Map;u.set(i,[o]),u.set(s,[i]);var l=new eG.G(eU.A);l.setOrbitalObjects(c,r),l.setVisibility(!0);var f=new eF.F(eU.A);f.setVisibility(!0),f.setOrbitalObjects(c,r);var d=M.uq.Identity(),p=0;return n.getTransform().setAbsolutePosition(new M.Pq(0,0,-10)),(0,S.t5)(n.getTransform(),o.getTransform().position,r.useRightHandedSystem),r.onBeforeRenderObservable.add(function(){var t=e.getDeltaTime()/1e3;p+=t,n.update(t),c.forEach(function(e){var t;(0,eB.je)(e,null!=(t=u.get(e))?t:[],d,p),(0,eB.d_)(e,d,p)}),l.update(d)}),Promise.resolve(r)}var eZ=r(95864);function eY(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){r(e);return}s.done?t(c):Promise.resolve(c).then(n,a)}function eW(e,t){var r;return(r=function(){var t,r,a,o,i,s,c,u,l,f;return function(e,t){var r,n,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=s(0),i.throw=s(1),i.return=s(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){var u=[s,c];if(r)throw TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(o=0)),o;)try{if(r=1,n&&(a=2&u[0]?n.return:u[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,u[1])).done)return a;switch(n=0,a&&(u=[2&u[0],a.value]),u[0]){case 0:case 1:a=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,n=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!a||u[1]>a[0]&&u[1]<a[3])){o.label=u[1];break}if(6===u[0]&&o.label<a[1]){o.label=a[1],a=u;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(u);break}a[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],n=0}finally{r=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}(this,function(d){switch(d.label){case 0:return(t=new x.Z(e,{useFloatingOrigin:!0})).useRightHandedSystem=!0,t.clearColor.set(0,0,0,1),r=1e7,o=(a=new P.w(t)).getActiveCamera(),a.speed=r,o.maxZ*=r,a.getTransform().setAbsolutePosition(new n.Vector3(0,5,-10).scaleInPlace(r)),(0,S.t5)(a.getTransform(),n.Vector3.Zero(),t.useRightHandedSystem),o.attachControl(),t.enableDepthRenderer(),(i=new n.PointLight("light1",new n.Vector3(-1,.5,-2).scaleInPlace(10*r),t)).intensity=.7,s=n.MeshBuilder.CreateSphere("sphere",{diameter:2*r,segments:32},t),c=new ev.K(function(){return new eb.q(t)}),u={innerRadius:1.7*r,outerRadius:3.5*r,type:"procedural",seed:0,frequency:10,albedo:{r:120/255,g:112/255,b:104/255}},l=eZ.zl.NewProcedural(u,c,0,t),[4,new Promise(function(e){"procedural"===l.patternLut.type&&l.patternLut.lut.getTexture().executeWhenReady(function(){e()})})];case 1:return d.sent(),f=new eh.b(s,l,{name:"Sphere",radius:+r},[i],t),o.attachPostProcess(f),t.onBeforeRenderObservable.add(function(){var e=t.getEngine().getDeltaTime()/1e3;a.update(e)}),[2,t]}})},function(){var e=this,t=arguments;return new Promise(function(n,a){var o=r.apply(e,t);function i(e){eY(o,n,a,i,s,"next",e)}function s(e){eY(o,n,a,i,s,"throw",e)}i(void 0)})})()}var ez=r(31704),eQ=r(80456),eX=r(49007),eJ=r(60672),eK=r(81629),e$=r(74459),e0=r(78706);function e1(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){r(e);return}s.done?t(c):Promise.resolve(c).then(n,a)}function e2(e,t){var r;return(r=function(){var t,r,a,o,i,s;return function(e,t){var r,n,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=s(0),i.throw=s(1),i.return=s(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){var u=[s,c];if(r)throw TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(o=0)),o;)try{if(r=1,n&&(a=2&u[0]?n.return:u[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,u[1])).done)return a;switch(n=0,a&&(u=[2&u[0],a.value]),u[0]){case 0:case 1:a=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,n=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!a||u[1]>a[0]&&u[1]<a[3])){o.label=u[1];break}if(6===u[0]&&o.label<a[1]){o.label=a[1],a=u;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(u);break}a[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],n=0}finally{r=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}(this,function(c){switch(c.label){case 0:return t=new x.Z(e),new n.FreeCamera("camera",n.Vector3.Zero(),t).attachControl(),[4,(0,e0.L)()];case 1:return c.sent(),r=new eJ.Y((0,eX.u)()),a=new L.bk,o=new eu,(i=new e$.X(r,a,o)).htmlRoot.style.position="absolute",document.body.appendChild(i.htmlRoot),[4,ez.E.CreateAsync(new eQ.m(eQ.m.SAVES_KEY),new eQ.m(eQ.m.BACKUP_SAVE_KEY),r)];case 2:if((s=c.sent()).success)return[3,4];return[4,(0,eK.sQ)("Could not load saves",a)];case 3:case 5:return c.sent(),[2,t];case 4:return[4,i.populateCmdrList(r,s.value)]}})},function(){var e=this,t=arguments;return new Promise(function(n,a){var o=r.apply(e,t);function i(e){e1(o,n,a,i,s,"next",e)}function s(e){e1(o,n,a,i,s,"throw",e)}i(void 0)})})()}var e3=r(19461),e5=r(56367);function e4(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function e6(e){return{id:"jupiter",name:"Jupiter",type:"gasPlanet",radius:69911e3,mass:1898e24,axialTilt:(0,e5.tR)(3.13),siderealDaySeconds:35730,orbit:{parentIds:function(e){if(Array.isArray(e))return e4(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return e4(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e4(e,void 0)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),semiMajorAxis:7785472e5,eccentricity:.0934,inclination:(0,e5.tR)(1.85),longitudeOfAscendingNode:(0,e5.tR)(49.558),argumentOfPeriapsis:(0,e5.tR)(286.502),initialMeanAnomaly:0,p:2},atmosphere:{pressure:e3.th,greenHouseEffectFactor:.7},colorPalette:{type:"textured",textureId:"jupiter"},rings:null,seed:0}}function e7(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){r(e);return}s.done?t(c):Promise.resolve(c).then(n,a)}function e9(e,t){var r;return(r=function(){var r,a,o,i,s,c,u,l,f;return function(e,t){var r,n,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=s(0),i.throw=s(1),i.return=s(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){var u=[s,c];if(r)throw TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(o=0)),o;)try{if(r=1,n&&(a=2&u[0]?n.return:u[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,u[1])).done)return a;switch(n=0,a&&(u=[2&u[0],a.value]),u[0]){case 0:case 1:a=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,n=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!a||u[1]>a[0]&&u[1]<a[3])){o.label=u[1];break}if(6===u[0]&&o.label<a[1]){o.label=a[1],a=u;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(u);break}a[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],n=0}finally{r=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}(this,function(d){switch(d.label){case 0:return(r=new n.Scene(e,{useFloatingOrigin:!0})).useRightHandedSystem=!0,r.clearColor.set(0,0,0,1),[4,(0,ep.P)(r,t)];case 1:return a=d.sent(),[4,(0,T.z)(r)];case 2:return d.sent(),i=(o=new P.w(r)).getActiveCamera(),o.speed=66e6,i.maxZ*=66e6,o.getTransform().setAbsolutePosition(new n.Vector3(0,1,-2).scaleInPlace(66e6)),(0,S.t5)(o.getTransform(),n.Vector3.Zero(),r.useRightHandedSystem),i.attachControl(),r.enableDepthRenderer(null,!1,!0),(s=new n.PointLight("light1",new n.Vector3(7,5,-10).scaleInPlace(66e6),r)).falloffType=n.Light.FALLOFF_STANDARD,V.w.EARTH_RADIUS=6371e3,c=e6([]),u=new ev.K(function(){return new eb.q(r)}),l=new ey.s(c,a,u,r),f=new C.D(l.getTransform(),l.getBoundingRadius(),l.atmosphereUniforms,[s],r),i.attachPostProcess(f),r.onBeforeRenderObservable.add(function(){var e=r.getEngine().getDeltaTime()/1e3;o.update(e),l.getTransform().rotate(n.Axis.Y,.1*e),l.updateMaterial([s],e)}),[2,r]}})},function(){var e=this,t=arguments;return new Promise(function(n,a){var o=r.apply(e,t);function i(e){e7(o,n,a,i,s,"next",e)}function s(e){e7(o,n,a,i,s,"throw",e)}i(void 0)})})()}function e8(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function te(e){return{id:"saturn",name:"Saturn",type:"gasPlanet",radius:58232e3,mass:5683e23,axialTilt:(0,e5.tR)(26.73),siderealDaySeconds:38361.6,orbit:{parentIds:function(e){if(Array.isArray(e))return e8(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return e8(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e8(e,void 0)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),semiMajorAxis:143344937e4,eccentricity:.0565,inclination:(0,e5.tR)(2.49),longitudeOfAscendingNode:(0,e5.tR)(113.715),argumentOfPeriapsis:(0,e5.tR)(336.092),initialMeanAnomaly:0,p:2},atmosphere:{pressure:e3.th,greenHouseEffectFactor:.5},colorPalette:{type:"textured",textureId:"saturn"},rings:{innerRadius:74658e3,outerRadius:136775e3,type:"textured",textureId:"saturn"},seed:0}}function tt(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){r(e);return}s.done?t(c):Promise.resolve(c).then(n,a)}function tr(e,t){var r;return(r=function(){var r,a,o,i,s,c,u,l,f,d,p,h,b;return function(e,t){var r,n,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=s(0),i.throw=s(1),i.return=s(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){var u=[s,c];if(r)throw TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(o=0)),o;)try{if(r=1,n&&(a=2&u[0]?n.return:u[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,u[1])).done)return a;switch(n=0,a&&(u=[2&u[0],a.value]),u[0]){case 0:case 1:a=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,n=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!a||u[1]>a[0]&&u[1]<a[3])){o.label=u[1];break}if(6===u[0]&&o.label<a[1]){o.label=a[1],a=u;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(u);break}a[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],n=0}finally{r=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}(this,function(m){switch(m.label){case 0:return(r=new n.Scene(e,{useFloatingOrigin:!0})).useRightHandedSystem=!0,r.clearColor.set(0,0,0,1),[4,(0,T.z)(r)];case 1:return m.sent(),[4,(0,N.Q)(r,t)];case 2:return a=m.sent(),i=(o=new P.w(r)).getActiveCamera(),o.speed=96e6,i.maxZ*=96e6,o.getTransform().setAbsolutePosition(new n.Vector3(0,2,-2).scaleInPlace(96e6)),(0,S.t5)(o.getTransform(),n.Vector3.Zero(),r.useRightHandedSystem),i.attachControl(),r.enableDepthRenderer(null,!1,!0),(s=new n.TransformNode("sun",r)).position=new n.Vector3(7,5.5,-10).scaleInPlace(96e6),(c=new n.PointLight("light1",n.Vector3.Zero(),r)).falloffType=n.Light.FALLOFF_STANDARD,c.parent=s,V.w.EARTH_RADIUS=6371e3,u=te([]),l=new ev.K(function(){return new eb.q(r)}),f=new ey.s(u,a.textures,l,r),d=null,null!==u.rings&&(d=new R.U(0,f.getTransform(),u.rings.innerRadius,u.rings.outerRadius,r)),p=new em.U(f.getTransform(),f.getBoundingRadius(),f.ringsUniforms,null,!1,[{getBoundingRadius:function(){return 0},getLight:function(){return c}}],r),i.attachPostProcess(p),h=new C.D(f.getTransform(),f.getBoundingRadius(),f.atmosphereUniforms,[c],r),i.attachPostProcess(h),null!==f.ringsUniforms&&(b=new eh.b(f.getTransform(),f.ringsUniforms,f.model,[c],r),i.attachPostProcess(b)),r.onBeforeRenderObservable.add(function(){var e=r.getEngine().getDeltaTime()/1e3;o.update(e),f.updateMaterial([c],e),null==d||d.update(i.globalPosition,a.objects.asteroids,e)}),[2,r]}})},function(){var e=this,t=arguments;return new Promise(function(n,a){var o=r.apply(e,t);function i(e){tt(o,n,a,i,s,"next",e)}function s(e){tt(o,n,a,i,s,"throw",e)}i(void 0)})})()}function tn(){return{id:"sun",name:"Sun",type:"star",radius:695508e3,mass:1989e27,blackBodyTemperature:5778,axialTilt:(0,e5.tR)(7.25),siderealDaySeconds:2217888,orbit:{parentIds:[],semiMajorAxis:0,eccentricity:0,p:2,inclination:0,longitudeOfAscendingNode:0,argumentOfPeriapsis:0,initialMeanAnomaly:0},rings:null,seed:0}}var ta=r(94311),to=r(33102),ti=r(89668),ts=r(37736),tc=r(35491),tu=r(43732);function tl(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){r(e);return}s.done?t(c):Promise.resolve(c).then(n,a)}function tf(e,t){var r;return(r=function(){var r,a,o,i,s,c,u,l,f,d,p,h,b,m,y,v;return function(e,t){var r,n,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=s(0),i.throw=s(1),i.return=s(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){var u=[s,c];if(r)throw TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(o=0)),o;)try{if(r=1,n&&(a=2&u[0]?n.return:u[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,u[1])).done)return a;switch(n=0,a&&(u=[2&u[0],a.value]),u[0]){case 0:case 1:a=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,n=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!a||u[1]>a[0]&&u[1]<a[3])){o.label=u[1];break}if(6===u[0]&&o.label<a[1]){o.label=a[1],a=u;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(u);break}a[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],n=0}finally{r=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}(this,function(g){switch(g.label){case 0:return(r=new ta.B(e)).useRightHandedSystem=!0,r.clearColor.set(0,0,0,1),[4,(0,T.z)(r)];case 1:return g.sent(),[4,(0,e0.L)()];case 2:return g.sent(),[4,(0,N.Q)(r,t)];case 3:return a=g.sent(),i=(o=new P.w(r)).getActiveCamera(),o.speed=66e6,i.maxZ*=66e6,[4,r.setActiveControls(o)];case 4:var w,R,A,O,E,x,I,C,k,_;return g.sent(),r.enableDepthRenderer(null,!1,!0),s=new ts.u(V.w.VERTEX_RESOLUTION),c=new tu.$,[4,tc.k.CreateAsync((w=tn(),R={id:"mercury",name:"Mercury",type:"telluricPlanet",radius:2439700,mass:3301e20,axialTilt:(0,e5.tR)(.034),siderealDaySeconds:5067014.4,waterAmount:0,temperature:{min:437,max:437},orbit:{parentIds:[w.id],semiMajorAxis:(0,e5.kK)(.38),eccentricity:.2056,p:2,inclination:(0,e5.tR)(7),longitudeOfAscendingNode:(0,e5.tR)(48.331),argumentOfPeriapsis:(0,e5.tR)(29.124),initialMeanAnomaly:0},terrainSettings:{continents_fragmentation:.1,continents_frequency:1,bumps_frequency:10,max_bump_height:15e3,max_mountain_height:0,continent_base_height:0,mountains_frequency:0},atmosphere:null,rings:null,clouds:null,ocean:null,seed:0},A={id:"venus",name:"Venus",type:"telluricPlanet",radius:6051800,mass:48e19,axialTilt:(0,e5.tR)(177.36),siderealDaySeconds:0x14064f0,waterAmount:0,temperature:{min:719,max:763},orbit:{parentIds:[w.id],semiMajorAxis:1082095e5,eccentricity:.0067,inclination:(0,e5.tR)(3.39),longitudeOfAscendingNode:(0,e5.tR)(76.68),argumentOfPeriapsis:(0,e5.tR)(54.88),initialMeanAnomaly:0,p:2},terrainSettings:{continents_fragmentation:.1,continents_frequency:1,bumps_frequency:10,max_bump_height:15e3,max_mountain_height:2e4,continent_base_height:0,mountains_frequency:5},rings:null,atmosphere:{pressure:(0,e5.J3)(93),greenHouseEffectFactor:.99},clouds:{layerRadius:6061800,smoothness:.7,specularPower:2,frequency:4,detailFrequency:12,coverage:0,sharpness:2.5,color:{r:.8,g:.8,b:.1},worleySpeed:5e-4,detailSpeed:.003},ocean:null,seed:0},O={id:"earth",name:"Earth",type:"telluricPlanet",radius:6371e3,mass:5972e21,axialTilt:(0,e5.tR)(23.44),siderealDaySeconds:86400,waterAmount:1,temperature:{min:(0,e5.F1)(-50),max:(0,e5.F1)(50)},orbit:{parentIds:[w.id],semiMajorAxis:14959787e4,eccentricity:.0167,inclination:(0,e5.tR)(0),longitudeOfAscendingNode:(0,e5.tR)(0),argumentOfPeriapsis:(0,e5.tR)(114.20783),initialMeanAnomaly:0,p:2},terrainSettings:{continents_frequency:1,continents_fragmentation:.65,bumps_frequency:30,max_bump_height:1500,max_mountain_height:1e4,continent_base_height:19e3,mountains_frequency:360},rings:null,atmosphere:{pressure:(0,e5.J3)(1),greenHouseEffectFactor:.5},clouds:{layerRadius:6401e3,smoothness:.7,specularPower:2,frequency:4,detailFrequency:12,coverage:.5,sharpness:2.5,color:{r:.8,g:.8,b:.8},worleySpeed:5e-4,detailSpeed:.003},ocean:{depth:1e4},seed:0},E={id:"moon",name:"Moon",type:"telluricSatellite",radius:1737100,mass:7342e19,axialTilt:(0,e5.tR)(6.68),siderealDaySeconds:2360620.8,waterAmount:0,temperature:{min:100,max:100},orbit:{parentIds:[O.id],semiMajorAxis:3844e5,eccentricity:.0549,inclination:(0,e5.tR)(5.145),longitudeOfAscendingNode:(0,e5.tR)(125.08),argumentOfPeriapsis:(0,e5.tR)(318.15),initialMeanAnomaly:0,p:2},terrainSettings:{continents_fragmentation:.1,continents_frequency:1,bumps_frequency:10,max_bump_height:15e3,max_mountain_height:0,continent_base_height:0,mountains_frequency:0},atmosphere:null,clouds:null,ocean:null,seed:0},x={id:"mars",name:"Mars",type:"telluricPlanet",radius:3389500,mass:64171e19,axialTilt:(0,e5.tR)(25.19),siderealDaySeconds:88732.79999999999,waterAmount:0,temperature:{min:(0,e5.F1)(-140),max:(0,e5.F1)(20)},orbit:{parentIds:[w.id],semiMajorAxis:2279392e5,eccentricity:.0934,inclination:(0,e5.tR)(1.85),longitudeOfAscendingNode:(0,e5.tR)(49.558),argumentOfPeriapsis:(0,e5.tR)(286.502),initialMeanAnomaly:0,p:2},terrainSettings:{continents_fragmentation:.1,continents_frequency:1,bumps_frequency:10,max_bump_height:15e3,max_mountain_height:0,continent_base_height:0,mountains_frequency:0},atmosphere:{pressure:(0,e5.J3)(.006),greenHouseEffectFactor:.1},rings:null,clouds:null,ocean:null,seed:0},I=e6([w.id]),C=te([w.id]),k={id:"uranus",name:"Uranus",type:"gasPlanet",radius:25362e3,mass:8681e22,axialTilt:(0,e5.tR)(97.77),siderealDaySeconds:3600*17.24,orbit:{parentIds:[w.id],semiMajorAxis:287246327e4,eccentricity:.0565,inclination:(0,e5.tR)(.77),longitudeOfAscendingNode:(0,e5.tR)(74.229),argumentOfPeriapsis:(0,e5.tR)(96.541),initialMeanAnomaly:0,p:2},colorPalette:{type:"textured",textureId:"uranus"},atmosphere:{pressure:(0,e5.J3)(.1),greenHouseEffectFactor:.5},rings:{innerRadius:50724e3,outerRadius:62e6,type:"textured",textureId:"uranus"},seed:0},_={id:"neptune",name:"Neptune",type:"gasPlanet",radius:24622e3,mass:1024e23,axialTilt:(0,e5.tR)(28.32),siderealDaySeconds:57996,orbit:{parentIds:[w.id],semiMajorAxis:449506e7,eccentricity:.0086,inclination:(0,e5.tR)(1.77),longitudeOfAscendingNode:(0,e5.tR)(131.72169),argumentOfPeriapsis:(0,e5.tR)(265.646853),initialMeanAnomaly:0,p:2},colorPalette:{type:"textured",textureId:"neptune"},atmosphere:{pressure:(0,e5.J3)(.1),greenHouseEffectFactor:.7},rings:null,seed:0},{name:"Sol",coordinates:{starSectorX:0,starSectorY:0,starSectorZ:0,localX:0,localY:0,localZ:0},stellarObjects:[w],planets:[R,A,O,x,I,C,k,_],satellites:[E],anomalies:[],orbitalFacilities:[]}),c,a,r)];case 5:(u=g.sent()).initPositions(2,s),l=u.getStellarObjects()[0],o.getTransform().position=l.getTransform().position.add(new n.Vector3(0,1,-2).scaleInPlace(7*l.getBoundingRadius())),(0,S.t5)(o.getTransform(),l.getTransform().position,r.useRightHandedSystem),(f=new to.X(a.textures,r)).addCelestialBodies(u.getCelestialBodies(),u.getStellarObjects(),[u.starFieldBox.mesh]),d=new ti.p,p=!0,h=!1,b=void 0;try{for(m=u.getCelestialBodies()[Symbol.iterator]();!(p=(y=m.next()).done);p=!0)v=y.value,d.addObject(v)}catch(e){h=!0,b=e}finally{try{p||null==m.return||m.return()}finally{if(h)throw b}}return r.onBeforeRenderObservable.add(function(){var e=r.getEngine().getDeltaTime()/1e3;o.update(e),s.update(a),f.update(e),u.update(e,s),d.update(i)}),[2,r]}})},function(){var e=this,t=arguments;return new Promise(function(n,a){var o=r.apply(e,t);function i(e){tl(o,n,a,i,s,"next",e)}function s(e){tl(o,n,a,i,s,"throw",e)}i(void 0)})})()}var td=r(49351),tp=r(65726),th=r(59008);function tb(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){r(e);return}s.done?t(c):Promise.resolve(c).then(n,a)}function tm(e,t){var r;return(r=function(){var r,a,o,i,s,c,u,l,f;return function(e,t){var r,n,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=s(0),i.throw=s(1),i.return=s(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){var u=[s,c];if(r)throw TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(o=0)),o;)try{if(r=1,n&&(a=2&u[0]?n.return:u[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,u[1])).done)return a;switch(n=0,a&&(u=[2&u[0],a.value]),u[0]){case 0:case 1:a=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,n=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!a||u[1]>a[0]&&u[1]<a[3])){o.label=u[1];break}if(6===u[0]&&o.label<a[1]){o.label=a[1],a=u;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(u);break}a[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],n=0}finally{r=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}(this,function(d){switch(d.label){case 0:return(r=new n.Scene(e,{useFloatingOrigin:!0})).useRightHandedSystem=!0,r.clearColor.set(0,0,0,1),[4,(0,T.z)(r)];case 1:return d.sent(),[4,(0,ep.P)(r,t)];case 2:var p;return a=d.sent(),i=(o=new P.w(r)).getActiveCamera(),o.speed=9e8,i.maxZ*=9e8,r.enableDepthRenderer(i,!1,!0),o.getTransform().setAbsolutePosition(new n.Vector3(0,2,-2).scaleInPlace(9e8)),(0,S.t5)(o.getTransform(),n.Vector3.Zero(),r.useRightHandedSystem),(null!=(p=n.FreeCamera)&&"undefined"!=typeof Symbol&&p[Symbol.hasInstance]?!!p[Symbol.hasInstance](i):i instanceof p)&&i.setTarget(new n.Vector3(-.001,0,-.1)),i.attachControl(),s=new $.y(a.environment.milkyWay,1e6,r),c=tn(),u=new th.F(c,a,r),l=new tp.N(u.mesh,u.volumetricLightUniforms,[s.mesh],r),i.attachPostProcess(l),f=new td.O(u.getTransform(),u.getBoundingRadius(),u.getLight().diffuse,r),i.attachPostProcess(f),r.onBeforeRenderObservable.add(function(){var e=r.getEngine().getDeltaTime()/1e3;o.update(e),u.updateMaterial(e)}),[2,r]}})},function(){var e=this,t=arguments;return new Promise(function(n,a){var o=r.apply(e,t);function i(e){tb(o,n,a,i,s,"next",e)}function s(e){tb(o,n,a,i,s,"throw",e)}i(void 0)})})()}var ty=r(12940),tv=r(86299);function tg(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){r(e);return}s.done?t(c):Promise.resolve(c).then(n,a)}function tw(e,t){var r;return(r=function(){var r,n,a,o,i,s,c,u,l,f,d,p,h;return function(e,t){var r,n,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=s(0),i.throw=s(1),i.return=s(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){var u=[s,c];if(r)throw TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(o=0)),o;)try{if(r=1,n&&(a=2&u[0]?n.return:u[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,u[1])).done)return a;switch(n=0,a&&(u=[2&u[0],a.value]),u[0]){case 0:case 1:a=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,n=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!a||u[1]>a[0]&&u[1]<a[3])){o.label=u[1];break}if(6===u[0]&&o.label<a[1]){o.label=a[1],a=u;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(u);break}a[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],n=0}finally{r=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}(this,function(b){switch(b.label){case 0:return(n=new x.Z(e)).useRightHandedSystem=!0,n.clearColor.set(0,0,0,1),[4,(0,T.z)(n)];case 1:return b.sent(),[4,(0,N.Q)(n,t)];case 2:return a=b.sent(),(o=new P.w(n)).speed=2e3,(i=o.getActiveCamera()).maxZ=1e5*V.w.EARTH_RADIUS,i.attachControl(),s=e3.AU,c={starSectorX:0,starSectorY:0,starSectorZ:0,localX:0,localY:0,localZ:0},u=new eJ.Y((0,eX.u)()).getSystemGalacticPosition(c),l=tn(),(f=new th.F(l,a.textures,n)).getTransform().position=new M.Pq(7,2,5).normalize().scaleInPlace(s),d=new URLSearchParams(window.location.search).get("seed"),(p=(0,ty.S)("station",null!==d?Number(d):Math.random()*V.w.SEED_HALF_RANGE,c,u,[l])).orbit.semiMajorAxis=s,null==(r=(h=new tv.x(p,new Map([[l,s]]),a,n)).landingBays[0])||r.getTransform().position.addToRef(new M.Pq(0,3e3,0),o.getTransform().position),(0,S.t5)(o.getTransform(),h.getTransform().position,n.useRightHandedSystem),n.onBeforePhysicsObservable.add(function(){var t=e.getDeltaTime()/1e3;o.update(t);var r=i.globalPosition;h.update([f],r,t)}),[2,n]}})},function(){var e=this,t=arguments;return new Promise(function(n,a){var o=r.apply(e,t);function i(e){tg(o,n,a,i,s,"next",e)}function s(e){tg(o,n,a,i,s,"throw",e)}i(void 0)})})()}var tP=r(27266),tS=r(61094),tR=r(42089);function tA(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){r(e);return}s.done?t(c):Promise.resolve(c).then(n,a)}function tT(e,t){var r;return(r=function(){var r,n,a,o,i,s,c,u,l,f,d,p,h,b;return function(e,t){var r,n,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=s(0),i.throw=s(1),i.return=s(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){var u=[s,c];if(r)throw TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(o=0)),o;)try{if(r=1,n&&(a=2&u[0]?n.return:u[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,u[1])).done)return a;switch(n=0,a&&(u=[2&u[0],a.value]),u[0]){case 0:case 1:a=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,n=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!a||u[1]>a[0]&&u[1]<a[3])){o.label=u[1];break}if(6===u[0]&&o.label<a[1]){o.label=a[1],a=u;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(u);break}a[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],n=0}finally{r=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}(this,function(m){switch(m.label){case 0:return(r=new x.Z(e)).useRightHandedSystem=!0,[4,(0,T.z)(r)];case 1:return m.sent(),[4,(0,e0.L)()];case 2:return m.sent(),[4,(0,N.Q)(r,t)];case 3:if(n=m.sent(),a=new L.bk,o=new ei.g9,i=new eu,s=new eJ.Y((0,eX.u)()),void 0===(u=(c=tS.a.Default(s)).serializedSpaceships.shift()))throw Error("No spaceship found in player data");if(l=B.Z.Deserialize(u,c.spareSpaceshipComponents,r,n,a),c.instancedSpaceships.push(l),(f=new es.l(l,r,a,o,i).thirdPersonCamera).attachControl(),r.activeCamera=f,d=s.fallbackSystem,p=new tP.k,h=new tR.M(c,p,s,a,i),void 0===(b=d.orbitalFacilities[0]))throw Error("No station found in system model");return h.setStation(b,[],c),h.setVisibility(!0),window.player=c,[2,r]}})},function(){var e=this,t=arguments;return new Promise(function(n,a){var o=r.apply(e,t);function i(e){tA(o,n,a,i,s,"next",e)}function s(e){tA(o,n,a,i,s,"throw",e)}i(void 0)})})()}var tO=r(85500),tE=r(17189);function tx(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){r(e);return}s.done?t(c):Promise.resolve(c).then(n,a)}function tI(e,t){var r;return(r=function(){var r,n,a,o,i;return function(e,t){var r,n,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=s(0),i.throw=s(1),i.return=s(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){var u=[s,c];if(r)throw TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(o=0)),o;)try{if(r=1,n&&(a=2&u[0]?n.return:u[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,u[1])).done)return a;switch(n=0,a&&(u=[2&u[0],a.value]),u[0]){case 0:case 1:a=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,n=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!a||u[1]>a[0]&&u[1]<a[3])){o.label=u[1];break}if(6===u[0]&&o.label<a[1]){o.label=a[1],a=u;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(u);break}a[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],n=0}finally{r=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}(this,function(s){switch(s.label){case 0:return(r=new x.Z(e,{useFloatingOrigin:!0})).useRightHandedSystem=!0,r.clearColor.set(0,0,0,1),n=new eJ.Y((0,eX.u)()),[4,(0,tO.H)(r,t)];case 1:return a=s.sent(),o=new tE.b(n,a,r),i=new P.w(r),r.onBeforeRenderObservable.add(function(){var t=e.getDeltaTime()/1e3;i.update(t),o.update(i.getActiveCamera())}),[2,r]}})},function(){var e=this,t=arguments;return new Promise(function(n,a){var o=r.apply(e,t);function i(e){tx(o,n,a,i,s,"next",e)}function s(e){tx(o,n,a,i,s,"throw",e)}i(void 0)})})()}var tC=r(89286),tk=r(42503),t_=r(42689),tM=r(44710);function tD(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){r(e);return}s.done?t(c):Promise.resolve(c).then(n,a)}function tj(e,t){var r;return(r=function(){var r,n,a,o,i,s,c,u,l,f;return function(e,t){var r,n,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=s(0),i.throw=s(1),i.return=s(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){var u=[s,c];if(r)throw TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(o=0)),o;)try{if(r=1,n&&(a=2&u[0]?n.return:u[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,u[1])).done)return a;switch(n=0,a&&(u=[2&u[0],a.value]),u[0]){case 0:case 1:a=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,n=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!a||u[1]>a[0]&&u[1]<a[3])){o.label=u[1];break}if(6===u[0]&&o.label<a[1]){o.label=a[1],a=u;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(u);break}a[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],n=0}finally{r=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}(this,function(d){switch(d.label){case 0:return[4,(0,e0.L)()];case 1:return d.sent(),r=new eJ.Y((0,eX.u)()),n=tS.a.Default(r),a=new tC.A(r),o=new L.bk,i=new eu,(s=new x.Z(e,{useFloatingOrigin:!0})).useRightHandedSystem=!0,s.clearColor.set(0,0,0,1),[4,(0,tO.H)(s,t)];case 2:if(c=d.sent(),(u=new t_.E(n,s,c,a,r,o,i)).setCurrentStarSystem(r.fallbackSystem.coordinates,!0),null!==(l=new URLSearchParams(window.location.search).get("systemCoordinates"))){if(null===(f=(0,tM.z)(decodeURIComponent(l))))throw Error("Invalid system coordinates json provided in URL parameters.");u.focusOnSystem(tk.Y.parse(f),!0)}return[2,s]}})},function(){var e=this,t=arguments;return new Promise(function(n,a){var o=r.apply(e,t);function i(e){tD(o,n,a,i,s,"next",e)}function s(e){tD(o,n,a,i,s,"throw",e)}i(void 0)})})()}var tN=r(57404),tL=r(45643),tB=r(91681),tF=r(9694),tV=r(90141),tH=r(25187);function tU(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){r(e);return}s.done?t(c):Promise.resolve(c).then(n,a)}function tG(e,t){var r;return(r=function(){var r,a,o,i,s,c,u,l,f,d;return function(e,t){var r,n,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=s(0),i.throw=s(1),i.return=s(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){var u=[s,c];if(r)throw TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(o=0)),o;)try{if(r=1,n&&(a=2&u[0]?n.return:u[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,u[1])).done)return a;switch(n=0,a&&(u=[2&u[0],a.value]),u[0]){case 0:case 1:a=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,n=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!a||u[1]>a[0]&&u[1]<a[3])){o.label=u[1];break}if(6===u[0]&&o.label<a[1]){o.label=a[1],a=u;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(u);break}a[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],n=0}finally{r=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}(this,function(p){switch(p.label){case 0:return[4,(0,e0.L)()];case 1:var h,b,m,y,v,g,w;return p.sent(),r=new eJ.Y((h={starSectorX:0,starSectorY:1,starSectorZ:0,localX:0,localY:0,localZ:0},(b=(0,tL.uF)("star0",420,"Weierstrass",[])).blackBodyTemperature=5778,(m=(0,tB.k)("hecate",253,"H\xe9cate",[b])).temperature.min=(0,e5.F1)(-40),m.temperature.max=(0,e5.F1)(30),m.orbit.semiMajorAxis=21e3*m.radius,y=(0,ty.S)("hecate->station",0,h,{x:0,y:0,z:0},[m]),(v=(0,tF.l)("hecate->manaleth",23,"Manaleth",[m])).orbit.inclination=(0,e5.tR)(45),v.orbit.semiMajorAxis=(0,tN.oe)(v.siderealDaySeconds,m.mass),null!==(g=(0,tB.k)("ares",.3725,"Ares",[b])).clouds&&(g.clouds.coverage=1),null!==g.atmosphere&&(g.atmosphere.pressure=.5*e3.th),g.orbit.semiMajorAxis=25100*m.radius,(w=(0,ed.p)("andromaque",.28711440474126226,"Andromaque",[b])).orbit.semiMajorAxis=25300*m.radius,w.orbit.eccentricity=.8,{name:"Alpha Testis",coordinates:h,stellarObjects:[b],planets:[m,g,w],satellites:[v],anomalies:[],orbitalFacilities:[y]})),a=tS.a.Default(r),o=new tP.k,i=new L.bk,s=new ei.g9,c=new eu,(u=new ta.B(e)).useRightHandedSystem=!0,[4,(0,T.z)(u)];case 2:return l=p.sent(),[4,(0,N.Q)(u,t)];case 3:return f=p.sent(),[4,(d=new tH.l(u,a,e,l,o,r,i,s,c,f)).resetPlayer()];case 4:return p.sent(),[4,d.switchToSpaceshipControls()];case 5:return p.sent(),[4,d.loadStarSystem(r.fallbackSystem)];case 6:return p.sent(),d.initStarSystem(),(0,tV.Ez)(d.getSpaceshipControls(),d.getStarSystem().getStellarObjects()[0],d.getStarSystem()),d.getSpaceshipControls().getTransform().rotate(n.Axis.Y,Math.PI,n.Space.LOCAL),u.onBeforeRenderObservable.add(function(){var e=u.getEngine().getDeltaTime()/1e3;c.update(e)}),[2,d.scene]}})},function(){var e=this,t=arguments;return new Promise(function(n,a){var o=r.apply(e,t);function i(e){tU(o,n,a,i,s,"next",e)}function s(e){tU(o,n,a,i,s,"throw",e)}i(void 0)})})()}var tq=r(13542),tZ=r(92766),tY=r(95574);function tW(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){r(e);return}s.done?t(c):Promise.resolve(c).then(n,a)}function tz(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var o=e.apply(t,r);function i(e){tW(o,n,a,i,s,"next",e)}function s(e){tW(o,n,a,i,s,"throw",e)}i(void 0)})}}function tQ(e,t){var r,n,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=s(0),i.throw=s(1),i.return=s(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){var u=[s,c];if(r)throw TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(o=0)),o;)try{if(r=1,n&&(a=2&u[0]?n.return:u[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,u[1])).done)return a;switch(n=0,a&&(u=[2&u[0],a.value]),u[0]){case 0:case 1:a=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,n=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!a||u[1]>a[0]&&u[1]<a[3])){o.label=u[1];break}if(6===u[0]&&o.label<a[1]){o.label=a[1],a=u;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(u);break}a[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],n=0}finally{r=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}function tX(e,t){return tz(function(){var r,n,a,o,i,s,c;return tQ(this,function(u){switch(u.label){case 0:return(r=new x.Z(e,{useFloatingOrigin:!0})).useRightHandedSystem=!0,[4,(0,T.z)(r)];case 1:return u.sent(),[4,(0,J.s)(r,t)];case 2:return n=u.sent(),(a=new P.w(r)).speed=2e6,(o=a.getActiveCamera()).attachControl(),r.activeCamera=o,r.enableDepthRenderer(o,!1,!0),new $.y(n.milkyWay,1e6,r),i=(0,tq.p)("blackHole",42,"Black Hole Demo",[]),(s=new tZ.a(i,n.milkyWay,r)).getTransform().position=new M.Pq(0,-.2,1).scaleInPlace(20*s.getRadius()),c=new tY.$(s.getTransform(),s.blackHoleUniforms,r),o.attachPostProcess(c),o.maxZ=1e12,(0,S.t5)(a.getTransform(),s.getTransform().position,r.useRightHandedSystem),r.onBeforePhysicsObservable.add(function(){var t=e.getDeltaTime()/1e3;a.update(t),c.update(t)}),document.addEventListener("click",function(){return tz(function(){var e;return tQ(this,function(t){switch(t.label){case 0:if(null!==document.pointerLockElement)return[3,2];return[4,null==(e=a.getActiveCamera().getEngine().getRenderingCanvas())?void 0:e.requestPointerLock()];case 1:t.sent(),t.label=2;case 2:return[2]}})})()}),[2,r]}})})()}var tJ=r(44904),tK=r(11402),t$=r(72262),t0=r(57836);function t1(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){r(e);return}s.done?t(c):Promise.resolve(c).then(n,a)}function t2(e,t){var r;return(r=function(){var r,a,o,i,s,c,u,l,f;return function(e,t){var r,n,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=s(0),i.throw=s(1),i.return=s(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){var u=[s,c];if(r)throw TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(o=0)),o;)try{if(r=1,n&&(a=2&u[0]?n.return:u[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,u[1])).done)return a;switch(n=0,a&&(u=[2&u[0],a.value]),u[0]){case 0:case 1:a=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,n=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!a||u[1]>a[0]&&u[1]<a[3])){o.label=u[1];break}if(6===u[0]&&o.label<a[1]){o.label=a[1],a=u;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(u);break}a[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],n=0}finally{r=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}(this,function(d){switch(d.label){case 0:return(r=new x.Z(e,{useFloatingOrigin:!0})).useRightHandedSystem=!0,[4,(0,T.z)(r)];case 1:return d.sent(),[4,(0,ep.P)(r,t)];case 2:return a=d.sent(),(o=new P.w(r)).speed=2e9,(i=o.getActiveCamera()).attachControl(),r.activeCamera=i,r.enableDepthRenderer(i,!1,!0),s=(0,tJ.z)("neutronStar",456,"Neutron Star Demo",[]),(c=new t$.G(s,a,r)).getTransform().position=new M.Pq(0,0,1).scaleInPlace(2e6*c.getRadius()),u=new tp.N(c.mesh,c.volumetricLightUniforms,[],r),i.attachPostProcess(u),l=new tK.A(c.getTransform(),c.getRadius(),c.model.dipoleTilt,r),i.attachPostProcess(l),f=new td.O(c.getTransform(),c.getRadius(),(0,t0.C)(s.blackBodyTemperature),r),i.attachPostProcess(f),i.maxZ=1e12,(0,S.t5)(o.getTransform(),c.getTransform().position,r.useRightHandedSystem),r.onBeforePhysicsObservable.add(function(){var t=e.getDeltaTime()/1e3;o.update(t),c.getTransform().rotate(n.Axis.Y,2*Math.PI*t/s.siderealDaySeconds),l.update(t)}),[2,r]}})},function(){var e=this,t=arguments;return new Promise(function(n,a){var o=r.apply(e,t);function i(e){t1(o,n,a,i,s,"next",e)}function s(e){t1(o,n,a,i,s,"throw",e)}i(void 0)})})()}var t3=r(58168),t5=r(69121),t4=r(55721),t6=r(44124),t7=r(80617);function t9(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){r(e);return}s.done?t(c):Promise.resolve(c).then(n,a)}function t8(e,t){var r;return(r=function(){var t,r,a,o;return function(e,t){var r,n,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=s(0),i.throw=s(1),i.return=s(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){var u=[s,c];if(r)throw TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(o=0)),o;)try{if(r=1,n&&(a=2&u[0]?n.return:u[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,u[1])).done)return a;switch(n=0,a&&(u=[2&u[0],a.value]),u[0]){case 0:case 1:a=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,n=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!a||u[1]>a[0]&&u[1]<a[3])){o.label=u[1];break}if(6===u[0]&&o.label<a[1]){o.label=a[1],a=u;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(u);break}a[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],n=0}finally{r=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}(this,function(i){switch(i.label){case 0:return t=new x.Z(e),(r=new n.FreeCamera("camera1",new n.Vector3(0,5,-10),t)).setTarget(n.Vector3.Zero()),r.attachControl(),[4,(0,e0.L)()];case 1:switch(i.sent(),a=new t3.O(new L.bk),document.body.appendChild(a.root),null!=(o=new URLSearchParams(window.location.search).get("tutorial"))?o:"flight"){case"flight":return[3,2];case"fuelScoop":return[3,4];case"stationLanding":return[3,6];case"starMap":return[3,8]}return[3,10];case 2:return[4,a.setTutorial(new t5.$)];case 3:case 5:case 7:case 9:return i.sent(),[3,10];case 4:return[4,a.setTutorial(new t4.F)];case 6:return[4,a.setTutorial(new t7.M)];case 8:return[4,a.setTutorial(new t6.r)];case 10:return[2,t]}})},function(){var e=this,t=arguments;return new Promise(function(n,a){var o=r.apply(e,t);function i(e){t9(o,n,a,i,s,"next",e)}function s(e){t9(o,n,a,i,s,"throw",e)}i(void 0)})})()}var re=r(40995);function rt(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){r(e);return}s.done?t(c):Promise.resolve(c).then(n,a)}function rr(e,t){var r;return(r=function(){var t,r,a,o,i;return function(e,t){var r,n,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=s(0),i.throw=s(1),i.return=s(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){var u=[s,c];if(r)throw TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(o=0)),o;)try{if(r=1,n&&(a=2&u[0]?n.return:u[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,u[1])).done)return a;switch(n=0,a&&(u=[2&u[0],a.value]),u[0]){case 0:case 1:a=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,n=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!a||u[1]>a[0]&&u[1]<a[3])){o.label=u[1];break}if(6===u[0]&&o.label<a[1]){o.label=a[1],a=u;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(u);break}a[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],n=0}finally{r=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}(this,function(s){switch(s.label){case 0:return(t=new x.Z(e)).useRightHandedSystem=!0,a=(r=new P.w(t)).getActiveCamera(),[4,(0,T.z)(t)];case 1:return s.sent(),(o=n.MeshBuilder.CreateBox("Anchor",{size:10},t)).position.z=200,(i=new re.D(t)).setThrottle(1),i.getTransform().parent=o,t.onBeforeRenderObservable.add(function(){var t=e.getDeltaTime()/1e3;i.update(t),r.update(t),o.position.z-=2e3*t,r.getTransform().position.z-=2e3*t;var n=a.globalPosition;o.position.subtractInPlace(n),r.getTransform().position.subtractInPlace(n)}),[2,t]}})},function(){var e=this,t=arguments;return new Promise(function(n,a){var o=r.apply(e,t);function i(e){rt(o,n,a,i,s,"next",e)}function s(e){rt(o,n,a,i,s,"throw",e)}i(void 0)})})()}function rn(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){r(e);return}s.done?t(c):Promise.resolve(c).then(n,a)}function ra(e,t){var r;return(r=function(){var t,r,s,l,p;function m(r){t.cameras.forEach(function(e){return e.attachPostProcess(r)}),t.onNewCameraAddedObservable.add(function(e){e.attachPostProcess(r)}),t.onBeforeRenderObservable.add(function(){var t=e.getDeltaTime()/1e3;r.update(t)})}return function(e,t){var r,n,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=s(0),i.throw=s(1),i.return=s(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){var u=[s,c];if(r)throw TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(o=0)),o;)try{if(r=1,n&&(a=2&u[0]?n.return:u[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,u[1])).done)return a;switch(n=0,a&&(u=[2&u[0],a.value]),u[0]){case 0:case 1:a=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,n=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!a||u[1]>a[0]&&u[1]<a[3])){o.label=u[1];break}if(6===u[0]&&o.label<a[1]){o.label=a[1],a=u;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(u);break}a[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],n=0}finally{r=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}(this,function(g){switch(g.label){case 0:var w,P,S,R,A,T,O,E,I,C;return((t=new x.Z(e)).useRightHandedSystem=!0,r=new URLSearchParams(window.location.search),(s=new n.ArcRotateCamera("ArcRotateCamera",0,3.14/3,5,M.Pq.Zero(),t)).attachControl(),s.lowerRadiusLimit=.5,s.wheelPrecision*=100,s.minZ=.01,l=t.enableDepthRenderer(null,!1,!0),"mandelbulb"===(p=r.get("fractal")))?(w=(0,f.G)("mandelbulb",1e5*Math.random(),"XR Anomaly",[]),(P=new i.i(w,t)).getTransform().scalingDeterminant=1/4e5,m(new d.W(P.getTransform(),P.getBoundingRadius(),w,t,[])),P.getTransform()):"julia"===p?(S=(0,a.h)("julia",1e5*Math.random(),"XR Anomaly",[]),(R=new i.i(S,t)).getTransform().scalingDeterminant=1/4e5,m(new o.t(R.getTransform(),R.getBoundingRadius(),S.accentColor,t,[])),R.getTransform()):"mandelbox"===p?(A=(0,c.c)("mandelbox",1e5*Math.random(),"XR Anomaly",[]),(T=new i.i(A,t)).getTransform().scalingDeterminant=1e-5,m(new u.M(T.getTransform(),T.getBoundingRadius(),A,t,[])),T.getTransform()):"pyramid"===p?(O=(0,y.p)("sierpinski",1e5*Math.random(),"XR Anomaly",[]),(E=new i.i(O,t)).getTransform().scalingDeterminant=1e-5,m(new v.$(E.getTransform(),E.getBoundingRadius(),O,t,[])),E.getTransform()):(I=(0,h.w)("menger",1e5*Math.random(),"XR Anomaly",[]),(C=new i.i(I,t)).getTransform().scalingDeterminant=1e-5,m(new b.Q(C.getTransform(),C.getBoundingRadius(),I,t,[])),C.getTransform()),[4,t.createDefaultXRExperienceAsync()];case 1:return g.sent().baseExperience.camera.setTransformationFromNonVRCamera(s,!0),t.onBeforeCameraRenderObservable.add(function(e){l.getDepthMap().activeCamera=e}),[2,t]}})},function(){var e=this,t=arguments;return new Promise(function(n,a){var o=r.apply(e,t);function i(e){rn(o,n,a,i,s,"next",e)}function s(e){rn(o,n,a,i,s,"throw",e)}i(void 0)})})()}var ro=function(){var e;function t(){var e;if(!(this instanceof t))throw TypeError("Cannot call a class as a function");e=new Map([["orbitalDemo",eq],["tunnel",ej],["automaticLanding",U],["debugAssets",ea],["spaceStation",tw],["spaceStationUI",tT],["xr",ra],["flightDemo",ef],["neutronStar",t2],["character",Q],["starMapView",tj],["starMap",tI],["tutorial",t8],["asteroidField",E],["starSystemView",tG],["rings",eW],["sierpinski",g],["mandelbox",l],["mandelbulb",p],["juliaSet",s],["mengerSponge",m],["atmosphericScattering",k],["darkKnight",et],["blackHole",tX],["gasPlanet",ew],["jupiter",e9],["saturn",tr],["sol",tf],["grass",eE],["warpTunnel",rr],["saveLoadingPanelContent",e2],["sun",tm],["gravitySystem",eC]]),"map"in this?Object.defineProperty(this,"map",{value:e,enumerable:!0,configurable:!0,writable:!0}):this.map=e}return e=[{key:"register",value:function(e,t){this.map.set(e,t)}},{key:"get",value:function(e){var t;return null!=(t=this.map.get(e))?t:eo}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(t.prototype,e),t}()},34168:function(e,t,r){r.d(t,{S:()=>f,z:()=>l}),r(64546);var n=r(64244),a=r(71331),o=r(40317),i=r(53946);function s(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){r(e);return}s.done?t(c):Promise.resolve(c).then(n,a)}function c(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var o=e.apply(t,r);function i(e){s(o,n,a,i,c,"next",e)}function c(e){s(o,n,a,i,c,"throw",e)}i(void 0)})}}function u(e,t){var r,n,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=s(0),i.throw=s(1),i.return=s(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){var u=[s,c];if(r)throw TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(o=0)),o;)try{if(r=1,n&&(a=2&u[0]?n.return:u[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,u[1])).done)return a;switch(n=0,a&&(u=[2&u[0],a.value]),u[0]){case 0:case 1:a=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,n=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!a||u[1]>a[0]&&u[1]<a[3])){o.label=u[1];break}if(6===u[0]&&o.label<a[1]){o.label=a[1],a=u;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(u);break}a[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],n=0}finally{r=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}function l(e,t){return c(function(e){var t,r,i,s,c,l,f=arguments;return u(this,function(u){switch(u.label){case 0:if(t=f.length>1&&void 0!==f[1]?f[1]:n.Pq.Zero(),r=f.length>2?f[2]:void 0,s=a.P.bind,c=[void 0,!1],null==r)return[3,1];return l=r,[3,3];case 1:return[4,(0,o.A)()];case 2:l=u.sent(),u.label=3;case 3:return i=new(s.apply(a.P,c.concat([l]))),e.enablePhysics(t,i),[2,i]}})}).apply(this,arguments)}function f(e){return c(function(){var t,r,n;return u(this,function(a){switch(a.label){case 0:(t=document.createElement("div")).style.position="fixed",t.style.right="1.5rem",t.style.bottom="1.5rem",t.style.zIndex="1000",t.style.padding="0.75rem",t.style.borderRadius="0.75rem",t.style.backgroundColor="rgba(0, 0, 0, 0.75)",t.style.backdropFilter="blur(4px)",t.style.display="flex",t.style.flexDirection="column",t.style.alignItems="center",t.style.gap="0.5rem",t.style.maxWidth="15rem",t.style.boxShadow="0 8px 24px rgba(0, 0, 0, 0.35)",(r=document.createElement("canvas")).style.width="12rem",r.style.height="12rem",t.appendChild(r),(n=document.createElement("div")).style.color="white",n.style.fontFamily="monospace",n.style.fontSize="0.75rem",n.style.wordBreak="break-all",n.style.textAlign="center",n.textContent=e,t.appendChild(n),document.body.appendChild(t),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,i.toCanvas(r,e,{width:192,margin:1,color:{dark:"#000000ff",light:"#ffffffff"}})];case 2:return a.sent(),[3,4];case 3:return console.error("Failed to render QR code",a.sent()),t.remove(),[3,4];case 4:return[2]}})})()}},87447:function(e,t,r){r.d(t,{W:()=>n});function n(e){try{return window.btoa(encodeURIComponent(e))}catch(e){return null}}},70612:function(e,t,r){r.d(t,{E:()=>n});function n(e,t,r){return(0x466f45d*e^0x127409f*t^0x4f9ffb7*r)%1e9}},56545:function(e,t,r){r.d(t,{F4:()=>o,ep:()=>s,hz:()=>i});var n=r(19461),a=r(56367);function o(e){return Math.pow(e/n.G3,.78)*n.Ow}function i(e,t){return 2*Math.PI*Math.sqrt(e/t)}function s(e,t,r){var n,o=(n=(0,a.F1)(100),e<=0?0:1/(1/n+2044761436301033e-19*Math.log(101325/e))),i=(0,a.F1)(0);return!(e<.05)&&!(o<i)&&!(t>o)&&!(r<i)}},56367:function(e,t,r){r.d(t,{E1:()=>o,F1:()=>s,GI:()=>a,J3:()=>u,N9:()=>i,kK:()=>c,tR:()=>l});var n=r(19461);function a(e){return e/n.fM}function o(e){return e*n.fM}function i(e){return e/n.C}function s(e){return e+273.15}function c(e){return e*n.AU}function u(e){return 1e5*e}function l(e){return Math.PI/180*e}}},s={};function c(e){var t=s[e];if(void 0!==t)return t.exports;var r=s[e]={exports:{}};return i[e].call(r.exports,r,r.exports,c),r.exports}c.m=i,u="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",l="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",f="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",d=e=>{e&&e.d<1&&(e.d=1,e.forEach(e=>e.r--),e.forEach(e=>e.r--?e.r++:e()))},c.a=(e,t,r)=>{r&&((n=[]).d=-1);var n,a,o,i,s=new Set,c=e.exports,p=new Promise((e,t)=>{i=t,o=e});p[l]=c,p[u]=e=>{n&&e(n),s.forEach(e),p.catch(function(){})},e.exports=p,t(e=>{a=e.map(e=>{if(null!==e&&"object"==typeof e){if(e[u])return e;if(e.then){var t=[];t.d=0,e.then(e=>{r[l]=e,d(t)},e=>{r[f]=e,d(t)});var r={};return r[u]=e=>e(t),r}}var n={};return n[u]=function(){},n[l]=e,n});var t,r=()=>a.map(e=>{if(e[f])throw e[f];return e[l]}),o=new Promise(e=>{(t=()=>e(r)).r=0;var o=e=>e!==n&&!s.has(e)&&(s.add(e),e&&!e.d&&(t.r++,e.push(t)));a.map(e=>e[u](o))});return t.r?o:r()},e=>(e?i(p[f]=e):o(c),d(n))),n&&n.d<0&&(n.d=0)},c.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return c.d(t,{a:t}),t},c.d=(e,t)=>{for(var r in t)c.o(t,r)&&!c.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},c.f={},c.e=e=>Promise.all(Object.keys(c.f).reduce((t,r)=>(c.f[r](e,t),t),[])),c.k=e=>""+e+".css",c.u=e=>""+e+"."+({1024:"d06c2cf7407308d6",1043:"5d8748a55171de89",107:"03bcaa4da7ad1217",108:"ad606c2c0505e91c",1124:"7d7f25f365c5abf5",13:"ae54abdb1d0abfbe",134:"2654f92490fb18bd",1364:"a4d722d17ea7d110",1403:"3461e12e8af9b567",1409:"46971bf684db24f9",1445:"1c0b50932addae07",1513:"6bde602ff2017274",1599:"c69885103c1b7247",1713:"7d2849be427a6a38",174:"797037ba56a501bf",1796:"250608f46a433dd5",1807:"93d08481e948c747",1816:"f85fe812f7080d04",1844:"d7804c3f437e446b",1880:"f7a30d1224095b03",1965:"0e87d418f414493d",1971:"078a472a8d2540e1",2105:"1dcbd8fbc78a086f",2120:"003384d5ddfc9323",2134:"972c4ff2b649aad1",2151:"c44c4e7ee77d016f",2157:"1e9ec4ae285e909f",2172:"887b04a07dc10be4",2185:"2fbd0a582ad3eba2",225:"3d5dcf9b69d32f34",2290:"9634e6f7b2abfcb0",2429:"d0cca90199f10b8e",2456:"0c812ead06e9c7db",2528:"4044d30a63e917ff",2538:"d1aad8084822b9aa",2604:"f6d5a0b83a48abfd",2653:"a431bf0417f398a1",2667:"ff155c2a3f2fdb9a",2823:"9e36f1400881f022",3078:"4a64b89927408784",3110:"972eb3e76092a746",3142:"418c6751fb02d620",3227:"ad78e1a201dad210",3457:"c1a5ae4ea0842c89",3665:"2eb98bf02de0ecca",3745:"6e7e45ce446acd74",381:"0398e2f6dc5fe360",3823:"5faee005b6760f6d",3893:"ffc5a6bffcbe9d10",393:"6f1bef100f59c9ce",3954:"7d3849e8f98b4a54",3957:"5a2eab4f8d0b8142",4070:"75106d547f8c45e0",4106:"2323a49190b043e9",4116:"209f163f7186e476",4313:"3f9d62faa1c30e6d",4370:"ce65b78fc103f6fc",4391:"2bc136dc08a361d8",4397:"6d0d77feb271a48c",4407:"ce2a8d60a712c400",4440:"72e9e7af9586b1d8",4545:"63c2f391d8fb5652",4599:"f7aea6d59a06c578",4651:"6d6a4691904d695e",4714:"bc9f8d44348423ce",4720:"7f60caae676c9b8d",4747:"59edc9fc38c8f51c",4762:"ea156b48c530eac2",4768:"d5ef53a3f1286dec",477:"9bb932433fff8c50",4833:"39c0f5c8453eb5ae",4973:"9b4eb6266801f7a9",5009:"60c102173b0b5106",5028:"0ed6bfec0dae2aa2",505:"e953fc311e5af15b",511:"b46f62be7e716b1b",5127:"b4a3987d4badf3c0",5179:"4a30d28f92869d3a",5226:"acd264675af5d6fe",5273:"1aab0f5b00b738e9",5277:"868f2ad649588815",5364:"6b2cc0c24a03178e",5482:"b9449720164785c8",5497:"078d8ba387ed0113",5513:"11a7d47b573eb3cc",5534:"3abd5fd382d0cfe5",5589:"9f4717dd69884e28",565:"6a871f3f723ecbe9",5740:"28207d6080f213b1",5787:"3f46640a5a2324bc",600:"aaa5557039bd9d8b",6140:"cb2596476cc3b63a",6174:"8ee8dd65e2625120",6198:"03dd0555509e0d1a",662:"9bd76467b0a94654",6620:"3913487d967aa2a1",6646:"b1883364ccf03df1",6674:"929976f48db4ff6c",676:"e4e0f4e5b97de75c",6785:"e45d6c318dad15e3",685:"9ce4f2750672b0cf",6856:"23ee4909a7d1fe57",6904:"1b544f28f0787030",6947:"ba8a1e6ca98641d9",6975:"afb078c06b9bafea",7042:"6cdc62960bc05b02",7066:"f706b129c9be13d6",7085:"30273cc768a31822",7143:"af738e5ffe747507",7172:"977c491335aa792e",7222:"b20d774c418e7162",7223:"dd636239acd20923",7247:"93ccfd420aa602f9",7360:"9791ae23c781ba18",7469:"77c069fb6f8e313e",7490:"94a4b01520dadba9",7558:"205916000f9a12d0",7567:"21450cc6b484ea4d",7581:"083d89659e3454a5",7601:"6accf23f9ab911eb",7655:"4722228e46970002",7695:"786e075cf062ec35",770:"4ee80ac932c7edbe",7735:"22f68c149863c48e",7793:"51b9fe2b1c23bf84",7829:"6e2343d6390d0d91",7933:"66f14f8626fa80ed",8005:"90c083ff4190c758",830:"8c2684d369793b2b",8347:"e3e0389a38a14410",838:"d7b445e6b98d95b2",8461:"26e560a0352c1273",8472:"e5ce1b1de1479bf8",8475:"5154c4743103911a",8478:"cf2e05fe1d7a1c2d",857:"d128d1a6bde6409e",8631:"bd0107630688f6d8",8684:"d1943c66b86dfb37",8691:"e9120b8ba2a832bc",8718:"7f31af2809340820",8784:"978d57b45653698e",8788:"8ed6060c61da6108",8850:"2edefb0d6abac86f",8948:"23da5ce9be6e8169",9017:"577d8855fb65fa6d",902:"fe79caecbab5d689",9060:"ff667d107a3bbd3f",9124:"3facf40299463ca6",9195:"ec8cf0a10aada38b",9210:"6d60d8657687a095",922:"46ad822dd821b640",9273:"a6840627b6d68adb",9309:"ead0b1126244fd6f",9413:"a026ab617c43cd11",9427:"d07ebf3a73737dea",9487:"d6717b6b9f3090c9",9506:"174b1699b9aec502",9535:"928688c93d53d334",9563:"6226139035621dac",9577:"54e2e483d80dc77b",9611:"e8b80309fe3fedfd",9696:"0d877bc258998a4f",9725:"53b584190944986b",9765:"0004409cf96e12d6",9822:"d6512870bed0555f",9824:"995924195519ca63",9846:"c48d153028f00e96",9950:"b1e1796b7708df1d",9972:"1113dd37a7372fce"})[e]+".js",c.g=(()=>{if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}})(),c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),p={},c.l=function(e,t,r,n){if(p[e])return void p[e].push(t);if(void 0!==r)for(var a,o,i=document.getElementsByTagName("script"),s=0;s<i.length;s++){var u=i[s];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")=="@cosmos-journeyer/game:"+r){a=u;break}}a||(o=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,c.nc&&a.setAttribute("nonce",c.nc),a.setAttribute("data-webpack","@cosmos-journeyer/game:"+r),a.src=e),p[e]=[t];var l=function(t,r){a.onerror=a.onload=null,clearTimeout(f);var n=p[e];if(delete p[e],a.parentNode&&a.parentNode.removeChild(a),n&&n.forEach(function(e){return e(r)}),t)return t(r)},f=setTimeout(l.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=l.bind(null,a.onerror),a.onload=l.bind(null,a.onload),o&&document.head.appendChild(a)},c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},h=[],c.O=(e,t,r,n)=>{if(t){n=n||0;for(var a=h.length;a>0&&h[a-1][2]>n;a--)h[a]=h[a-1];h[a]=[t,r,n];return}for(var o=1/0,a=0;a<h.length;a++){for(var[t,r,n]=h[a],i=!0,s=0;s<t.length;s++)(!1&n||o>=n)&&Object.keys(c.O).every(e=>c.O[e](t[s]))?t.splice(s--,1):(i=!1,n<o&&(o=n));if(i){h.splice(a--,1);var u=r();void 0!==u&&(e=u)}}return e},c.rv=()=>"1.5.8",c.g.importScripts&&(b=c.g.location+"");var u,l,f,d,p,h,b,m=c.g.document;if(!b&&m&&(m.currentScript&&"SCRIPT"===m.currentScript.tagName.toUpperCase()&&(b=m.currentScript.src),!b)){var y=m.getElementsByTagName("script");if(y.length)for(var v=y.length-1;v>-1&&(!b||!/^http(s?):/.test(b));)b=y[v--].src}if(!b)throw Error("Automatic publicPath is not supported in this browser");c.p=b=b.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e={8132:0},r="data-webpack-loading",(t=(t,r)=>{e[r]=0})(c.m,0,"8132"),c.f.css=(n,a,o)=>{var i=c.o(e,n)?e[n]:void 0;if(0!==i)if(i)a.push(i[2]);else if(8132==n){var s=new Promise(function(t,r){i=e[n]=[t,r]});a.push(i[2]=s);var u=c.p+c.k(n),l=Error();((e,t,n,a,o)=>{var i,s,u="chunk-"+e;if(!a){for(var l=document.getElementsByTagName("link"),f=0;f<l.length;f++){var d=l[f],p=d.getAttribute("href")||d.href;if(p&&!p.startsWith(c.p)&&(p=c.p+(p.startsWith("/")?p.slice(1):p)),"stylesheet"==d.rel&&(p&&p.startsWith(t)||d.getAttribute("data-webpack")=="@cosmos-journeyer/game:"+u)){i=d;break}}if(!n)return}i||(s=!0,i=document.createElement("link"),c.nc&&i.setAttribute("nonce",c.nc),i.setAttribute("data-webpack","@cosmos-journeyer/game:"+u),o&&i.setAttribute("fetchpriority",o),i.setAttribute(r,1),i.rel="stylesheet",i.href=t);var h=(e,t)=>{if(i.onerror=i.onload=null,i.removeAttribute(r),clearTimeout(b),t&&"load"!=t.type&&i.parentNode.removeChild(i),n(t),e)return e(t)};if(i.getAttribute(r)){var b=setTimeout(h.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=h.bind(null,i.onerror),i.onload=h.bind(null,i.onload)}else h(void 0,{type:"load",target:i});return a&&a.getAttribute("fetchpriority")&&i.setAttribute("fetchpriority",a.getAttribute("fetchpriority")),a?document.head.insertBefore(i,a):s&&document.head.appendChild(i)})(n,u,function(r){if(c.o(e,n)&&(0!==(i=e[n])&&(e[n]=void 0),i))if("load"!==r.type){var a=r&&r.type,o=r&&r.target&&r.target.src;l.message="Loading css chunk "+n+" failed.\n("+a+": "+o+")",l.name="ChunkLoadError",l.type=a,l.request=o,i[1](l)}else t(c.m,n),i[0]()},void 0,o)}else e[n]=0},c.b=document.baseURI||self.location.href,n={6181:0},c.f.j=function(e,t){var r=c.o(n,e)?n[e]:void 0;if(0!==r)if(r)t.push(r[2]);else{var a=new Promise((t,a)=>r=n[e]=[t,a]);t.push(r[2]=a);var o=c.p+c.u(e),i=Error();c.l(o,function(t){if(c.o(n,e)&&(0!==(r=n[e])&&(n[e]=void 0),r)){var a=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;i.message="Loading chunk "+e+" failed.\n("+a+": "+o+")",i.name="ChunkLoadError",i.type=a,i.request=o,r[1](i)}},"chunk-"+e,e)}},c.O.j=e=>0===n[e],a=(e,t)=>{var r,a,[o,i,s]=t,u=0;if(o.some(e=>0!==n[e])){for(r in i)c.o(i,r)&&(c.m[r]=i[r]);if(s)var l=s(c)}for(e&&e(t);u<o.length;u++)a=o[u],c.o(n,a)&&n[a]&&n[a][0](),n[a]=0;return c.O(l)},(o=globalThis.webpackChunk_cosmos_journeyer_game=globalThis.webpackChunk_cosmos_journeyer_game||[]).forEach(a.bind(null,0)),o.push=a.bind(null,o.push.bind(o)),c.ruid="bundler=rspack@1.5.8";var g=c.O(void 0,["4693","3311","9687","9476","5673","950","4143","3216","7465","4403","4735","9801","1476","6031","2338","8184","8205","7751","5952","8867","5574","5914","2116","3645","8353","1267","5886","4605","1949","8706","3580","3428","4657","7363","1272","9044","3416","8132"],function(){return c(35867)});g=c.O(g)})();