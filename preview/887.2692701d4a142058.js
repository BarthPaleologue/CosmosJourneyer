(()=>{"use strict";var t,e,n,_={5418(t,e,n){n.a(t,async function(t,e){try{var _=n(82374),r=n(52628),i=t([_]);_=(i.then?(await i)():i)[0],self.onmessage=function(t){var e,n,i,a,s,o,u,c,g,b,f,h,p,d;i=(n=(e=t.data).nbVerticesPerSide)-1,a=new Float32Array(n*n*3),s=new Uint16Array(i*i*6),o=new Float32Array(a.length),u=e.planetDiameter/Math.pow(2,e.depth),c=16*(u/i<r.w.MIN_DISTANCE_BETWEEN_VERTICES),g=Math.floor(u*u*c*2),b=new Float32Array(16*g),f=new Float32Array(16*g),(h=new _.Rz).continent_base_height=e.terrainSettings.continent_base_height,h.continents_fragmentation=e.terrainSettings.continents_fragmentation,h.continents_frequency=e.terrainSettings.continents_frequency,h.max_mountain_height=e.terrainSettings.max_mountain_height,h.mountains_frequency=e.terrainSettings.mountains_frequency,h.bumps_frequency=e.terrainSettings.bumps_frequency,h.max_bump_height=e.terrainSettings.max_bump_height,p=new _.$I(e.planetDiameter,e.depth,e.direction,e.position[0],e.position[1],e.position[2],e.seed,e.nbVerticesPerSide,h),d=(0,_.$d)(p,a,s,o,b,f,c),b=b.subarray(0,16*d.nb_instances_created),f=f.subarray(0,16*d.nb_instances_created),self.postMessage({positions:a,indices:s,normals:o,instancesMatrixBuffer:b,alignedInstancesMatrixBuffer:f,averageHeight:d.average_height},{transfer:[a.buffer,s.buffer,o.buffer,b.buffer,f.buffer]}),p.free()},e()}catch(t){e(t)}})},52628(t,e,n){n.d(e,{w:()=>_});var _={UNIVERSE_SEED:Math.PI,POWER_PLAY_SEED:77,EARTH_RADIUS:1e6,VERTEX_RESOLUTION:64,MIN_DISTANCE_BETWEEN_VERTICES:1.5,CLOUD_LAYER_HEIGHT:7e3,EARTH_ATMOSPHERE_THICKNESS:1e5,OCEAN_DEPTH:7e3,TIME_MULTIPLIER:1,CHUNK_RENDERING_DISTANCE_MULTIPLIER:2,ENABLE_VOLUMETRIC_CLOUDS:!1,SEED_HALF_RANGE:1e4,FLOATING_ORIGIN_THRESHOLD:1e5,HUMAN_BUBBLE_RADIUS_LY:100,VISIBLE_NEIGHBORHOOD_MAX_RADIUS_LY:20,CREDIT_SYMBOL:"â‚½",STAR_SECTOR_SIZE:20,INDIVIDUAL_AVERAGE_DAILY_INTAKE:2250,HYDROPONIC_TO_CONVENTIONAL_RATIO:3.5,FOV:n(32997).S0.ToRadians(60),LANDING_PAD_ASPECT_RATIO:1.618,RINGS_FADE_OUT_DISTANCE:15e3,MAIN_FONT:"Nasalization",MAX_AUTO_SAVES:5,SHARED_POSITION_SAVE_UUID:"sharedPositionSave",TUTORIAL_SAVE_UUID:"00000000-0000-0000-0000-000000000000",QUALITY_CHARS:"FEDCBA",FACILITY_LIGHT_COLOR:"#FFFFFF"}},82374(t,e,n){n.a(t,async function(t,_){try{n.d(e,{$I:()=>i.$I,$d:()=>i.$d,Rz:()=>i.Rz});var r=n(69935),i=n(39274),a=t([r]);r=(a.then?(await a)():a)[0],(0,i.lI)(r),_()}catch(t){_(t)}})},39274(t,e,n){function _(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var _=e[n];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(t,_.key,_)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function a(t){s=t}n.d(e,{$I:()=>m,$d:()=>y,Qn:()=>I,Rz:()=>E,U6:()=>k,bk:()=>S,lI:()=>a}),t=n.hmd(t);var s,o=Array(128).fill(void 0);o.push(void 0,null,!0,!1);var u=o.length,c=null;function g(){return(null===c||0===c.byteLength)&&(c=new Uint8Array(s.memory.buffer)),c}var b=new("undefined"==typeof TextDecoder?(0,t.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});function f(t,e){if(null!=e&&"undefined"!=typeof Symbol&&e[Symbol.hasInstance]?!e[Symbol.hasInstance](t):!(t instanceof e))throw Error("expected instance of ".concat(e.name));return t.ptr}b.decode();var h=null,p=0;function d(t,e){var n=e(4*t.length,4)>>>0;return((null===h||0===h.byteLength)&&(h=new Float32Array(s.memory.buffer)),h).set(t,n/4),p=t.length,n}function l(t){u===o.length&&o.push(o.length+1);var e=u;return u=o[e],o[e]=t,e}var w=null;function y(t,e,n,_,r,i,a){f(t,m);var o,u=d(e,s.__wbindgen_malloc),c=p,g=(o=(0,s.__wbindgen_malloc)(2*n.length,2)>>>0,((null===w||0===w.byteLength)&&(w=new Uint16Array(s.memory.buffer)),w).set(n,o/2),p=n.length,o),b=p,h=d(_,s.__wbindgen_malloc),y=p,E=d(r,s.__wbindgen_malloc),S=p,k=d(i,s.__wbindgen_malloc),I=p,A=s.build_chunk_vertex_data(t.__wbg_ptr,u,c,l(e),g,b,l(n),h,y,l(_),E,S,l(r),k,I,l(i),a);return v.__wrap(A)}Object.freeze({Up:0,0:"Up",Down:1,1:"Down",Left:2,2:"Left",Right:3,3:"Right",Forward:4,4:"Forward",Backward:5,5:"Backward"});var m=function(){function t(e,n,r,i,a,o,u,c,g){_(this,t),f(g,E);var b=g.__destroy_into_raw(),h=s.builddata_new(e,n,r,i,a,o,u,c,b);return this.__wbg_ptr=h>>>0,this}return i(t,[{key:"__destroy_into_raw",value:function(){var t=this.__wbg_ptr;return this.__wbg_ptr=0,t}},{key:"free",value:function(){var t=this.__destroy_into_raw();s.__wbg_builddata_free(t)}},{key:"planet_diameter",get:function(){return s.__wbg_get_builddata_planet_diameter(this.__wbg_ptr)},set:function(t){s.__wbg_set_builddata_planet_diameter(this.__wbg_ptr,t)}},{key:"chunk_depth",get:function(){return s.__wbg_get_builddata_chunk_depth(this.__wbg_ptr)>>>0},set:function(t){s.__wbg_set_builddata_chunk_depth(this.__wbg_ptr,t)}},{key:"chunk_tree_direction",get:function(){return s.__wbg_get_builddata_chunk_tree_direction(this.__wbg_ptr)},set:function(t){s.__wbg_set_builddata_chunk_tree_direction(this.__wbg_ptr,t)}},{key:"chunk_cube_position_x",get:function(){return s.__wbg_get_builddata_chunk_cube_position_x(this.__wbg_ptr)},set:function(t){s.__wbg_set_builddata_chunk_cube_position_x(this.__wbg_ptr,t)}},{key:"chunk_cube_position_y",get:function(){return s.__wbg_get_builddata_chunk_cube_position_y(this.__wbg_ptr)},set:function(t){s.__wbg_set_builddata_chunk_cube_position_y(this.__wbg_ptr,t)}},{key:"chunk_cube_position_z",get:function(){return s.__wbg_get_builddata_chunk_cube_position_z(this.__wbg_ptr)},set:function(t){s.__wbg_set_builddata_chunk_cube_position_z(this.__wbg_ptr,t)}},{key:"planet_seed",get:function(){return s.__wbg_get_builddata_planet_seed(this.__wbg_ptr)},set:function(t){s.__wbg_set_builddata_planet_seed(this.__wbg_ptr,t)}},{key:"resolution",get:function(){return s.__wbg_get_builddata_resolution(this.__wbg_ptr)>>>0},set:function(t){s.__wbg_set_builddata_resolution(this.__wbg_ptr,t)}},{key:"terrain_settings",get:function(){var t=s.__wbg_get_builddata_terrain_settings(this.__wbg_ptr);return E.__wrap(t)},set:function(t){f(t,E);var e=t.__destroy_into_raw();s.__wbg_set_builddata_terrain_settings(this.__wbg_ptr,e)}}]),t}(),v=function(){function t(){_(this,t)}return i(t,[{key:"__destroy_into_raw",value:function(){var t=this.__wbg_ptr;return this.__wbg_ptr=0,t}},{key:"free",value:function(){var t=this.__destroy_into_raw();s.__wbg_returndata_free(t)}},{key:"nb_instances_created",get:function(){return s.__wbg_get_returndata_nb_instances_created(this.__wbg_ptr)>>>0},set:function(t){s.__wbg_set_returndata_nb_instances_created(this.__wbg_ptr,t)}},{key:"average_height",get:function(){return s.__wbg_get_returndata_average_height(this.__wbg_ptr)},set:function(t){s.__wbg_set_returndata_average_height(this.__wbg_ptr,t)}}],[{key:"__wrap",value:function(e){e>>>=0;var n=Object.create(t.prototype);return n.__wbg_ptr=e,n}}]),t}(),E=function(){function t(){_(this,t);var e=s.terrainsettings_new();return this.__wbg_ptr=e>>>0,this}return i(t,[{key:"__destroy_into_raw",value:function(){var t=this.__wbg_ptr;return this.__wbg_ptr=0,t}},{key:"free",value:function(){var t=this.__destroy_into_raw();s.__wbg_terrainsettings_free(t)}},{key:"continents_frequency",get:function(){return s.__wbg_get_terrainsettings_continents_frequency(this.__wbg_ptr)},set:function(t){s.__wbg_set_terrainsettings_continents_frequency(this.__wbg_ptr,t)}},{key:"bumps_frequency",get:function(){return s.__wbg_get_terrainsettings_bumps_frequency(this.__wbg_ptr)},set:function(t){s.__wbg_set_terrainsettings_bumps_frequency(this.__wbg_ptr,t)}},{key:"mountains_frequency",get:function(){return s.__wbg_get_terrainsettings_mountains_frequency(this.__wbg_ptr)},set:function(t){s.__wbg_set_terrainsettings_mountains_frequency(this.__wbg_ptr,t)}},{key:"continents_fragmentation",get:function(){return s.__wbg_get_terrainsettings_continents_fragmentation(this.__wbg_ptr)},set:function(t){s.__wbg_set_terrainsettings_continents_fragmentation(this.__wbg_ptr,t)}},{key:"continent_base_height",get:function(){return s.__wbg_get_terrainsettings_continent_base_height(this.__wbg_ptr)},set:function(t){s.__wbg_set_terrainsettings_continent_base_height(this.__wbg_ptr,t)}},{key:"max_mountain_height",get:function(){return s.__wbg_get_terrainsettings_max_mountain_height(this.__wbg_ptr)},set:function(t){s.__wbg_set_terrainsettings_max_mountain_height(this.__wbg_ptr,t)}},{key:"max_bump_height",get:function(){return s.__wbg_get_terrainsettings_max_bump_height(this.__wbg_ptr)},set:function(t){s.__wbg_set_terrainsettings_max_bump_height(this.__wbg_ptr,t)}}],[{key:"__wrap",value:function(e){e>>>=0;var n=Object.create(t.prototype);return n.__wbg_ptr=e,n}}]),t}();function S(t){!function(t){o[t],t<132||(o[t]=u,u=t)}(t)}function k(t,e,n){var _;new Uint8Array(o[n].buffer,o[n].byteOffset,o[n].byteLength).set((_=t>>>0,g().subarray(_/1,_/1+e)))}function I(t,e){var n;throw Error((n=t>>>0,b.decode(g().subarray(n,n+e))))}},69935(t,e,n){var _=n(39274);t.exports=n.v(e,t.id,"454e048ec81a6868",{"./terrain_generation_bg.js":{__wbindgen_object_drop_ref:_.bk,__wbindgen_copy_to_typed_array:_.U6,__wbindgen_throw:_.Qn}})}},r={};function i(t){var e=r[t];if(void 0!==e)return e.exports;var n=r[t]={id:t,loaded:!1,exports:{}};return _[t](n,n.exports,i),n.loaded=!0,n.exports}i.m=_,i.x=()=>{var t=i.O(void 0,["1741","4186","1292","501"],()=>i(5418));return i.O(t)},s=(a="function"==typeof Symbol)?Symbol("rspack queues"):"__rspack_queues",o=i.aE=a?Symbol("rspack exports"):"__webpack_exports__",u=a?Symbol("rspack error"):"__rspack_error",c=a?Symbol("rspack done"):"__rspack_done",g=i.zS=a?Symbol("rspack defer"):"__rspack_defer",b=t=>{t&&t.d<1&&(t.d=1,t.forEach(t=>t.r--),t.forEach(t=>t.r--?t.r++:t()))},i.a=(t,e,n)=>{n&&((_=[]).d=-1);var _,a,f,h,p=new Set,d=t.exports,l=new Promise((t,e)=>{h=e,f=t});l[o]=d,l[s]=t=>{_&&t(_),p.forEach(t),l.catch(()=>{})},t.exports=l,e(t=>{a=t.map(t=>{if(null!==t&&"object"==typeof t){if(!t[s]&&t[g]){var e=t[g];if(!e.some(t=>{var e=r[t];return!e||!1===e[c]}))return t;var n=t;t={then(t){Promise.all(e.map(i)).then(()=>t(n))}}}if(t[s])return t;if(t.then){var _=[];_.d=0,t.then(t=>{a[o]=t,b(_)},t=>{a[u]=t,b(_)});var a={};return a[g]=!1,a[s]=t=>t(_),a}}var f={};return f[s]=()=>{},f[o]=t,f});var e,n=()=>a.map(t=>{if(t[g])return t;if(t[u])throw t[u];return t[o]}),f=new Promise(t=>{(e=()=>t(n)).r=0;var r=t=>t!==_&&!p.has(t)&&(p.add(t),t&&!t.d&&(e.r++,t.push(e)));a.map(t=>t[g]||t[s](r))});return e.r?f:n()},t=>(t?h(l[u]=t):f(d),b(_),l[c]=!0)),_&&_.d<0&&(_.d=0)},i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.f={},i.e=t=>Promise.all(Object.keys(i.f).reduce((e,n)=>(i.f[n](t,e),e),[])),i.hmd=t=>((t=Object.create(t)).children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:()=>{throw Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t),i.u=t=>""+t+"."+({1292:"308b72f0686bba82",1741:"e18dfafce6869c72",4186:"c2f6532f2969a72e",501:"4a445900db5731b9"})[t]+".js",i.g=(()=>{if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(t){if("object"==typeof window)return window}})(),i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),f=[],i.O=(t,e,n,_)=>{if(e){_=_||0;for(var r=f.length;r>0&&f[r-1][2]>_;r--)f[r]=f[r-1];f[r]=[e,n,_];return}for(var a=1/0,r=0;r<f.length;r++){for(var[e,n,_]=f[r],s=!0,o=0;o<e.length;o++)(!1&_||a>=_)&&Object.keys(i.O).every(t=>i.O[t](e[o]))?e.splice(o--,1):(s=!1,_<a&&(a=_));if(s){f.splice(r--,1);var u=n();void 0!==u&&(t=u)}}return t},i.rv=()=>"1.6.8",h=i.x,i.x=()=>Promise.all(["1741","4186","1292","501"].map(i.e,i)).then(h),i.v=function(t,e,n,_){var r=fetch(i.p+""+n+".module.wasm"),a=function(){return r.then(function(t){return t.arrayBuffer()}).then(function(t){return WebAssembly.instantiate(t,_)}).then(function(e){return Object.assign(t,e.instance.exports)})};return r.then(function(e){return"function"==typeof WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(e,_).then(function(e){return Object.assign(t,e.instance.exports)},function(t){if("application/wasm"!==e.headers.get("Content-Type"))return console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t),a();throw t}):a()})},i.g.importScripts&&(p=i.g.location+"");var a,s,o,u,c,g,b,f,h,p,d=i.g.document;if(!p&&d&&(d.currentScript&&"SCRIPT"===d.currentScript.tagName.toUpperCase()&&(p=d.currentScript.src),!p)){var l=d.getElementsByTagName("script");if(l.length)for(var w=l.length-1;w>-1&&(!p||!/^http(s?):/.test(p));)p=l[w--].src}if(!p)throw Error("Automatic publicPath is not supported in this browser");i.p=p=p.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t={887:1},i.f.i=(e,n)=>{t[e]||importScripts(i.p+i.u(e))},n=(e=globalThis.webpackChunk_cosmos_journeyer_game=globalThis.webpackChunk_cosmos_journeyer_game||[]).push.bind(e),e.push=e=>{var[_,r,a]=e;for(var s in r)i.o(r,s)&&(i.m[s]=r[s]);for(a&&a(i);_.length;)t[_.pop()]=1;n(e)},i.ruid="bundler=rspack@1.6.8",i.x()})();