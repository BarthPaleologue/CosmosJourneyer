"use strict";(globalThis.webpackChunk_cosmos_journeyer_game=globalThis.webpackChunk_cosmos_journeyer_game||[]).push([["7602"],{58391(e,l,n){n.d(l,{i:()=>i});var a=n(39058);function t(e){return e.split(" ").filter(e=>""!==e).map(e=>parseFloat(e))}function r(e,l,n){for(;n.length!==l;){let l=t(e.lines[e.index++]);n.push(...l)}}function i(e){let l={lines:new TextDecoder("utf-8").decode(e).split("\n"),index:0},n={version:l.lines[0],candelaValues:[],horizontalAngles:[],verticalAngles:[],numberOfHorizontalAngles:0,numberOfVerticalAngles:0};for(l.index=1;l.lines.length>0&&!l.lines[l.index].includes("TILT=");)l.index++;l.lines[l.index].includes("INCLUDE"),l.index++;let i=t(l.lines[l.index++]);n.numberOfLights=i[0],n.lumensPerLamp=i[1],n.candelaMultiplier=i[2],n.numberOfVerticalAngles=i[3],n.numberOfHorizontalAngles=i[4],n.photometricType=i[5],n.unitsType=i[6],n.width=i[7],n.length=i[8],n.height=i[9];let s=t(l.lines[l.index++]);n.ballastFactor=s[0],n.fileGenerationType=s[1],n.inputWatts=s[2];for(let e=0;e<n.numberOfHorizontalAngles;e++)n.candelaValues[e]=[];r(l,n.numberOfVerticalAngles,n.verticalAngles),r(l,n.numberOfHorizontalAngles,n.horizontalAngles);for(let e=0;e<n.numberOfHorizontalAngles;e++)r(l,n.numberOfVerticalAngles,n.candelaValues[e]);let o=-1;for(let e=0;e<n.numberOfHorizontalAngles;e++)for(let l=0;l<n.numberOfVerticalAngles;l++)n.candelaValues[e][l]*=n.candelaValues[e][l]*n.candelaMultiplier*n.ballastFactor*n.fileGenerationType,o=Math.max(o,n.candelaValues[e][l]);if(o>0)for(let e=0;e<n.numberOfHorizontalAngles;e++)for(let l=0;l<n.numberOfVerticalAngles;l++)n.candelaValues[e][l]/=o;let u=new Float32Array(64800),c=n.horizontalAngles[0],f=n.horizontalAngles[n.numberOfHorizontalAngles-1];for(let e=0;e<64800;e++){let l=e%360,t=Math.floor(e/360);f-c!=0&&(l<c||l>=f)&&(l%=2*f)>f&&(l=2*f-l),u[t+180*l]=function(e,l,n){let t=0,r=0,i=0,s=0,o=0,u=0;for(let l=0;l<e.numberOfHorizontalAngles-1;l++)if(n<e.horizontalAngles[l+1]||l===e.numberOfHorizontalAngles-2){r=l,i=e.horizontalAngles[l],s=e.horizontalAngles[l+1];break}for(let n=0;n<e.numberOfVerticalAngles-1;n++)if(l<e.verticalAngles[n+1]||n===e.numberOfVerticalAngles-2){t=n,o=e.verticalAngles[n],u=e.verticalAngles[n+1];break}let c=s-i,f=u-o;if(0===f)return 0;let g=0===c?0:(n-i)/c,d=(l-o)/f,b=0===c?r:r+1,h=(0,a.Lerp)(e.candelaValues[r][t],e.candelaValues[b][t],g),A=(0,a.Lerp)(e.candelaValues[r][t+1],e.candelaValues[b][t+1],g);return(0,a.Lerp)(h,A,d)}(n,t,l)}return{width:180,height:1,data:u}}},75849(e,l,n){n.d(l,{_IESTextureLoader:()=>t});var a=n(58391);class t{constructor(){this.supportCascades=!1}loadCubeData(){throw".ies not supported in Cube."}loadData(e,l,n){let t=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),r=(0,a.i)(t);n(r.width,r.height,!!l.useMipMaps,!1,()=>{let e=l.getEngine();l.type=1,l.format=6,l._gammaSpace=!1,e._uploadDataToTextureDirectly(l,r.data)})}}}}]);