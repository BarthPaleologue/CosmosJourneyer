"use strict";(globalThis.webpackChunk_cosmos_journeyer_game=globalThis.webpackChunk_cosmos_journeyer_game||[]).push([["5887"],{12290(t,e,o){o.r(e),o.d(e,{FlowGraphDotBlock:()=>w,FlowGraphRotate2DBlock:()=>F,FlowGraphTransformBlock:()=>B,FlowGraphCrossBlock:()=>g,FlowGraphLengthBlock:()=>m,FlowGraphTransformCoordinatesBlock:()=>G,FlowGraphAxisAngleFromQuaternionBlock:()=>E,FlowGraphAngleBetweenBlock:()=>C,FlowGraphQuaternionFromAxisAngleBlock:()=>A,FlowGraphQuaternionFromDirectionsBlock:()=>f,FlowGraphConjugateBlock:()=>D,FlowGraphRotate3DBlock:()=>_,FlowGraphNormalizeBlock:()=>V});var a=o(90756),s=o(5562),r=o(98946),l=o(33186),i=o(952),c=o(93965),n=o(12760),u=o(61973),h=o(67230);let p="cachedOperationAxis",x="cachedOperationAngle",d="cachedExecutionId";class m extends i.a{constructor(t){super(s.Vv,s.Es,t=>this._polymorphicLength(t),"FlowGraphLengthBlock",t)}_polymorphicLength(t){switch((0,n.I$)(t)){case"Vector2":case"Vector3":case"Vector4":case"Quaternion":return t.length();default:throw Error(`Cannot compute length of value ${t}`)}}}(0,r.Y5)("FlowGraphLengthBlock",m);class V extends i.a{constructor(t){super(s.Vv,s.Vv,t=>this._polymorphicNormalize(t),"FlowGraphNormalizeBlock",t)}_polymorphicNormalize(t){let e;switch((0,n.I$)(t)){case"Vector2":case"Vector3":case"Vector4":case"Quaternion":return e=t.normalizeToNew(),this.config?.nanOnZeroLength&&0===t.length()&&e.setAll(NaN),e;default:throw Error(`Cannot normalize value ${t}`)}}}(0,r.Y5)("FlowGraphNormalizeBlock",V);class w extends l.W{constructor(t){super(s.Vv,s.Vv,s.Es,(t,e)=>this._polymorphicDot(t,e),"FlowGraphDotBlock",t)}_polymorphicDot(t,e){switch((0,n.I$)(t)){case"Vector2":case"Vector3":case"Vector4":case"Quaternion":return t.dot(e);default:throw Error(`Cannot get dot product of ${t} and ${e}`)}}}(0,r.Y5)("FlowGraphDotBlock",w);class g extends l.W{constructor(t){super(s.Dx,s.Dx,s.Dx,(t,e)=>c.Pq.Cross(t,e),"FlowGraphCrossBlock",t)}}(0,r.Y5)("FlowGraphCrossBlock",g);class F extends l.W{constructor(t){super(s.K$,s.Es,s.K$,(t,e)=>t.rotate(e),"FlowGraphRotate2DBlock",t)}}(0,r.Y5)("FlowGraphRotate2DBlock",F);class _ extends l.W{constructor(t){super(s.Dx,s.P_,s.Dx,(t,e)=>t.applyRotationQuaternion(e),"FlowGraphRotate3DBlock",t)}}function k(t,e){switch((0,n.I$)(t)){case"Vector2":case"Vector3":return e.transformVector(t);case"Vector4":return new c.IU(t.x*e.m[0]+t.y*e.m[1]+t.z*e.m[2]+t.w*e.m[3],t.x*e.m[4]+t.y*e.m[5]+t.z*e.m[6]+t.w*e.m[7],t.x*e.m[8]+t.y*e.m[9]+t.z*e.m[10]+t.w*e.m[11],t.x*e.m[12]+t.y*e.m[13]+t.z*e.m[14]+t.w*e.m[15]);default:throw Error(`Cannot transform value ${t}`)}}(0,r.Y5)("FlowGraphRotate3DBlock",_);class B extends l.W{constructor(t){const e=t?.vectorType||"Vector3";super((0,s.Yd)(e),(0,s.Yd)("Vector2"===e?"Matrix2D":"Vector3"===e?"Matrix3D":"Matrix"),(0,s.Yd)(e),k,"FlowGraphTransformVectorBlock",t)}}(0,r.Y5)("FlowGraphTransformVectorBlock",B);class G extends l.W{constructor(t){super(s.Dx,s.Sp,s.Dx,(t,e)=>c.Pq.TransformCoordinates(t,e),"FlowGraphTransformCoordinatesBlock",t)}}(0,r.Y5)("FlowGraphTransformCoordinatesBlock",G);class D extends i.a{constructor(t){super(s.P_,s.P_,t=>t.conjugate(),"FlowGraphConjugateBlock",t)}}(0,r.Y5)("FlowGraphConjugateBlock",D);class C extends l.W{constructor(t){super(s.P_,s.P_,s.Es,(t,e)=>2*Math.acos((0,u.Clamp)((0,h.FQ)(t,e),-1,1)),"FlowGraphAngleBetweenBlock",t)}}(0,r.Y5)("FlowGraphAngleBetweenBlock",C);class A extends l.W{constructor(t){super(s.Dx,s.Es,s.P_,(t,e)=>c.PT.RotationAxis(t,e),"FlowGraphQuaternionFromAxisAngleBlock",t)}}(0,r.Y5)("FlowGraphQuaternionFromAxisAngleBlock",A);class E extends a.e{constructor(t){super(t),this.a=this.registerDataInput("a",s.P_),this.axis=this.registerDataOutput("axis",s.Dx),this.angle=this.registerDataOutput("angle",s.Es),this.isValid=this.registerDataOutput("isValid",s.RI)}_updateOutputs(t){let e=t._getExecutionVariable(this,d,-1),o=t._getExecutionVariable(this,p,null),a=t._getExecutionVariable(this,x,null);if(null!=o&&null!=a&&e===t.executionId)this.axis.setValue(o,t),this.angle.setValue(a,t);else try{let{axis:e,angle:o}=this.a.getValue(t).toAxisAngle();t._setExecutionVariable(this,p,e),t._setExecutionVariable(this,x,o),t._setExecutionVariable(this,d,t.executionId),this.axis.setValue(e,t),this.angle.setValue(o,t),this.isValid.setValue(!0,t)}catch(e){this.isValid.setValue(!1,t)}}getClassName(){return"FlowGraphAxisAngleFromQuaternionBlock"}}(0,r.Y5)("FlowGraphAxisAngleFromQuaternionBlock",E);class f extends l.W{constructor(t){super(s.Dx,s.Dx,s.P_,(t,e)=>{var o,a,s;let r,l,i;return r=new c.PT,o=t,a=e,s=r,l=c.Pq.Cross(o,a),i=Math.acos((0,u.Clamp)((0,h.G$)(o,a),-1,1)),c.PT.RotationAxisToRef(l,i,s),r},"FlowGraphQuaternionFromDirectionsBlock",t)}}},33186(t,e,o){o.d(e,{W:()=>s});var a=o(61861);class s extends a.r{constructor(t,e,o,a,s,r){super(o,r),this._operation=a,this._className=s,this.a=this.registerDataInput("a",t),this.b=this.registerDataInput("b",e)}_doOperation(t){let e=this.a.getValue(t),o=this.b.getValue(t);return this._operation(e,o)}getClassName(){return this._className}}},61861(t,e,o){o.d(e,{r:()=>i});var a=o(90756),s=o(5562);let r="cachedOperationValue",l="cachedExecutionId";class i extends a.e{constructor(t,e){super(e),this.value=this.registerDataOutput("value",t),this.isValid=this.registerDataOutput("isValid",s.RI)}_updateOutputs(t){let e=t._getExecutionVariable(this,l,-1),o=t._getExecutionVariable(this,r,null);if(null!=o&&e===t.executionId)this.isValid.setValue(!0,t),this.value.setValue(o,t);else try{let e=this._doOperation(t);if(null==e)return void this.isValid.setValue(!1,t);t._setExecutionVariable(this,r,e),t._setExecutionVariable(this,l,t.executionId),this.value.setValue(e,t),this.isValid.setValue(!0,t)}catch(e){this.isValid.setValue(!1,t)}}}},952(t,e,o){o.d(e,{a:()=>s});var a=o(61861);class s extends a.r{constructor(t,e,o,a,s){super(e,s),this._operation=o,this._className=a,this.a=this.registerDataInput("a",t)}_doOperation(t){return this._operation(this.a.getValue(t))}getClassName(){return this._className}}}}]);