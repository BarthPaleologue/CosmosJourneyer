"use strict";(globalThis.webpackChunk_cosmos_journeyer_game=globalThis.webpackChunk_cosmos_journeyer_game||[]).push([["8459"],{85398:function(t,e,i){i.r(e),i.d(e,{FlowGraphDeterminantBlock:()=>c,FlowGraphInvertMatrixBlock:()=>h,FlowGraphMatrixComposeBlock:()=>d,FlowGraphMatrixDecomposeBlock:()=>x,FlowGraphMatrixMultiplicationBlock:()=>p,FlowGraphTransposeBlock:()=>u});var a=i(15559),s=i(3481),r=i(66144),o=i(66717),n=i(79711),l=i(85203);class u extends n.a{constructor(t){super((0,s.Yd)(t?.matrixType||"Matrix"),(0,s.Yd)(t?.matrixType||"Matrix"),t=>t.transpose?t.transpose():r.uq.Transpose(t),"FlowGraphTransposeBlock",t)}}(0,o.Y5)("FlowGraphTransposeBlock",u);class c extends n.a{constructor(t){super((0,s.Yd)(t?.matrixType||"Matrix"),s.Es,t=>t.determinant(),"FlowGraphDeterminantBlock",t)}}(0,o.Y5)("FlowGraphDeterminantBlock",c);class h extends n.a{constructor(t){super((0,s.Yd)(t?.matrixType||"Matrix"),(0,s.Yd)(t?.matrixType||"Matrix"),t=>t.inverse?t.inverse():r.uq.Invert(t),"FlowGraphInvertMatrixBlock",t)}}(0,o.Y5)("FlowGraphInvertMatrixBlock",h);class p extends l.W{constructor(t){super((0,s.Yd)(t?.matrixType||"Matrix"),(0,s.Yd)(t?.matrixType||"Matrix"),(0,s.Yd)(t?.matrixType||"Matrix"),(t,e)=>e.multiply(t),"FlowGraphMatrixMultiplicationBlock",t)}}(0,o.Y5)("FlowGraphMatrixMultiplicationBlock",p);class x extends a.e{constructor(t){super(t),this.input=this.registerDataInput("input",s.Sp),this.position=this.registerDataOutput("position",s.Dx),this.rotationQuaternion=this.registerDataOutput("rotationQuaternion",s.P_),this.scaling=this.registerDataOutput("scaling",s.Dx),this.isValid=this.registerDataOutput("isValid",s.RI,!1)}_updateOutputs(t){let e=t._getExecutionVariable(this,"executionId",-1),i=t._getExecutionVariable(this,"cachedPosition",null),a=t._getExecutionVariable(this,"cachedRotation",null),s=t._getExecutionVariable(this,"cachedScaling",null);if(e===t.executionId&&i&&a&&s)this.position.setValue(i,t),this.rotationQuaternion.setValue(a,t),this.scaling.setValue(s,t);else{let e=this.input.getValue(t),o=i||new r.Pq,n=a||new r.PT,l=s||new r.Pq,u=Math.round(1e4*e.m[3])/1e4,c=Math.round(1e4*e.m[7])/1e4,h=Math.round(1e4*e.m[11])/1e4,p=Math.round(1e4*e.m[15])/1e4;if(0!==u||0!==c||0!==h||1!==p){this.isValid.setValue(!1,t),this.position.setValue(r.Pq.Zero(),t),this.rotationQuaternion.setValue(r.PT.Identity(),t),this.scaling.setValue(r.Pq.One(),t);return}let x=e.decompose(l,n,o);this.isValid.setValue(x,t),this.position.setValue(o,t),this.rotationQuaternion.setValue(n,t),this.scaling.setValue(l,t),t._setExecutionVariable(this,"cachedPosition",o),t._setExecutionVariable(this,"cachedRotation",n),t._setExecutionVariable(this,"cachedScaling",l),t._setExecutionVariable(this,"executionId",t.executionId)}}getClassName(){return"FlowGraphMatrixDecompose"}}(0,o.Y5)("FlowGraphMatrixDecompose",x);class d extends a.e{constructor(t){super(t),this.position=this.registerDataInput("position",s.Dx),this.rotationQuaternion=this.registerDataInput("rotationQuaternion",s.P_),this.scaling=this.registerDataInput("scaling",s.Dx),this.value=this.registerDataOutput("value",s.Sp)}_updateOutputs(t){let e=t._getExecutionVariable(this,"executionId",-1),i=t._getExecutionVariable(this,"cachedMatrix",null);if(e===t.executionId&&i)this.value.setValue(i,t);else{let e=r.uq.Compose(this.scaling.getValue(t),this.rotationQuaternion.getValue(t),this.position.getValue(t));this.value.setValue(e,t),t._setExecutionVariable(this,"cachedMatrix",e),t._setExecutionVariable(this,"executionId",t.executionId)}}getClassName(){return"FlowGraphMatrixCompose"}}(0,o.Y5)("FlowGraphMatrixCompose",d)},85203:function(t,e,i){i.d(e,{W:()=>s});var a=i(49444);class s extends a.r{constructor(t,e,i,a,s,r){super(i,r),this._operation=a,this._className=s,this.a=this.registerDataInput("a",t),this.b=this.registerDataInput("b",e)}_doOperation(t){let e=this.a.getValue(t),i=this.b.getValue(t);return this._operation(e,i)}getClassName(){return this._className}}},49444:function(t,e,i){i.d(e,{r:()=>n});var a=i(15559),s=i(3481);let r="cachedOperationValue",o="cachedExecutionId";class n extends a.e{constructor(t,e){super(e),this.value=this.registerDataOutput("value",t),this.isValid=this.registerDataOutput("isValid",s.RI)}_updateOutputs(t){let e=t._getExecutionVariable(this,o,-1),i=t._getExecutionVariable(this,r,null);if(null!=i&&e===t.executionId)this.isValid.setValue(!0,t),this.value.setValue(i,t);else try{let e=this._doOperation(t);if(null==e)return void this.isValid.setValue(!1,t);t._setExecutionVariable(this,r,e),t._setExecutionVariable(this,o,t.executionId),this.value.setValue(e,t),this.isValid.setValue(!0,t)}catch(e){this.isValid.setValue(!1,t)}}}},79711:function(t,e,i){i.d(e,{a:()=>s});var a=i(49444);class s extends a.r{constructor(t,e,i,a,s){super(e,s),this._operation=i,this._className=a,this.a=this.registerDataInput("a",t)}_doOperation(t){return this._operation(this.a.getValue(t))}getClassName(){return this._className}}}}]);