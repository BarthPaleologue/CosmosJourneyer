"use strict";(globalThis.webpackChunk_cosmos_journeyer_game=globalThis.webpackChunk_cosmos_journeyer_game||[]).push([["5416"],{28424(t,e,a){a.r(e),a.d(e,{FlowGraphInterpolationBlock:()=>o});var i=a(90756),n=a(5562),s=a(79622),r=a(98946);class o extends i.e{constructor(t={}){super(t),this.keyFrames=[];const e="string"==typeof t?.animationType?(0,n.Yd)(t.animationType):(0,n.aZ)(t?.animationType??0),a=t?.keyFramesCount??1,i=this.registerDataInput("duration_0",n.Es,0),s=this.registerDataInput("value_0",e);this.keyFrames.push({duration:i,value:s});for(let i=1;i<a+1;i++){const s=this.registerDataInput(`duration_${i}`,n.Es,i===a?t.duration:void 0),r=this.registerDataInput(`value_${i}`,e);this.keyFrames.push({duration:s,value:r})}this.initialValue=this.keyFrames[0].value,this.endValue=this.keyFrames[a].value,this.easingFunction=this.registerDataInput("easingFunction",n.Vv),this.animation=this.registerDataOutput("animation",n.Vv),this.propertyName=this.registerDataInput("propertyName",n.Vv,t?.propertyName),this.customBuildAnimation=this.registerDataInput("customBuildAnimation",n.Vv)}_updateOutputs(t){let e=t._getGlobalContextVariable("interpolationAnimations",[]),a=this.propertyName.getValue(t),i=this.easingFunction.getValue(t),n=this._createAnimation(t,a,i);if(this.animation.setValue(n,t),Array.isArray(n))for(let t of n)e.push(t.uniqueId);else e.push(n.uniqueId);t._setGlobalContextVariable("interpolationAnimations",e)}_createAnimation(t,e,a){let i=this.initialValue.richType,n=[],r=this.initialValue.getValue(t)||i.defaultValue;n.push({frame:0,value:r});let o=this.config?.numberOfKeyFrames??1;for(let e=1;e<o+1;e++){let a=this.keyFrames[e].duration?.getValue(t),s=this.keyFrames[e].value?.getValue(t);e===o-1&&(s=s||i.defaultValue),void 0!==a&&s&&n.push({frame:60*a,value:s})}let u=this.customBuildAnimation.getValue(t);if(u)return u(null,null,t)(n,60,i.animationType,a);if("string"!=typeof e)return e.map(t=>{let e=s.X5.CreateAnimation(t,i.animationType,60,a);return e.setKeys(n),e});{let t=s.X5.CreateAnimation(e,i.animationType,60,a);return t.setKeys(n),[t]}}getClassName(){return"FlowGraphInterpolationBlock"}}(0,r.Y5)("FlowGraphInterpolationBlock",o)}}]);