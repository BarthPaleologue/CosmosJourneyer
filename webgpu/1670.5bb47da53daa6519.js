"use strict";(globalThis.webpackChunkcosmos_journeyer=globalThis.webpackChunkcosmos_journeyer||[]).push([["1670"],{4438:function(t,e,i){i.d(e,{Y:()=>n});var o=i(10118),r=i(82753);let s=new RegExp(/\/\{(\w+)\}(?=\/|$)/g);class n{constructor(t,e){this.path=t,this.ownerBlock=e,this.templatedInputs=[];let i=s.exec(t),n=new Set;for(;i;){let[,a]=i;if(n.has(a))throw Error("Duplicate template variable detected.");n.add(a),this.templatedInputs.push(e.registerDataInput(a,r.fj,new o.K(0))),i=s.exec(t)}}getAccessor(t,e){let i=this.path;for(let t of this.templatedInputs){let o=t.getValue(e).value;if("number"!=typeof o||o<0)throw Error("Invalid value for templated input.");i=i.replace(`{${t.name}}`,o.toString())}return t.convert(i)}}},73318:function(t,e,i){i.d(e,{D:()=>a});var o=i(31700),r=i(82753);let s="cachedOperationValue",n="cachedExecutionId";class a extends o.A{constructor(t,e){super(e),this.value=this.registerDataOutput("value",t),this.isValid=this.registerDataOutput("isValid",r.PE)}_updateOutputs(t){let e=t._getExecutionVariable(this,n,-1),i=t._getExecutionVariable(this,s,null);if(null!=i&&e===t.executionId)this.isValid.setValue(!0,t),this.value.setValue(i,t);else try{let e=this._doOperation(t);if(null==e)return void this.isValid.setValue(!1,t);t._setExecutionVariable(this,s,e),t._setExecutionVariable(this,n,t.executionId),this.value.setValue(e,t),this.isValid.setValue(!0,t)}catch(e){this.isValid.setValue(!1,t)}}}},84922:function(t,e,i){i.r(e),i.d(e,{FlowGraphJsonPointerParserBlock:()=>u});var o=i(4438),r=i(82753),s=i(46363),n=i(61834),a=i(57423),l=i(73318);class u extends l.D{constructor(t){super(r.s8,t),this.config=t,this.object=this.registerDataOutput("object",r.s8),this.propertyName=this.registerDataOutput("propertyName",r.s8),this.setterFunction=this.registerDataOutput("setFunction",r.s8,this._setPropertyValue.bind(this)),this.getterFunction=this.registerDataOutput("getFunction",r.s8,this._getPropertyValue.bind(this)),this.generateAnimationsFunction=this.registerDataOutput("generateAnimationsFunction",r.s8,this._getInterpolationAnimationPropertyInfo.bind(this)),this.templateComponent=new o.Y(t.jsonPointer,this)}_doOperation(t){let e=this.templateComponent.getAccessor(this.config.pathConverter,t),i=e.info.get(e.object),o=e.info.getTarget?.(e.object),r=e.info.getPropertyName?.[0](e.object);if(o)this.object.setValue(o,t),r&&this.propertyName.setValue(r,t);else throw Error("Object is undefined");return i}_setPropertyValue(t,e,i,o){let r=this.templateComponent.getAccessor(this.config.pathConverter,o),s=r.info.type;s.startsWith("Color")&&(i=c(i,s)),r.info.set?.(i,r.object)}_getPropertyValue(t,e,i){let o=this.templateComponent.getAccessor(this.config.pathConverter,i),r=o.info.type,s=o.info.get(o.object);return r.startsWith("Color")?function(t){if(t instanceof a.Wo)return new n.P(t.r,t.g,t.b);if(t instanceof a.HE)return new n.Lt(t.r,t.g,t.b,t.a);throw Error("Invalid color type")}(s):s}_getInterpolationAnimationPropertyInfo(t,e,i){let o=this.templateComponent.getAccessor(this.config.pathConverter,i);return(t,e,i,r)=>{let s=[],n=o.info.type;return n.startsWith("Color")&&(t=t.map(t=>({frame:t.frame,value:c(t.value,n)}))),o.info.interpolation?.forEach((e,n)=>{let a=o.info.getPropertyName?.[n](o.object)||"Animation-interpolation-"+n,l=t;for(let n of(i!==e.type&&(l=t.map(t=>({frame:t.frame,value:e.getValue(void 0,t.value.asArray?t.value.asArray():[t.value],0,1)}))),e.buildAnimations(o.object,a,60,l)))r&&n.babylonAnimation.setEasingFunction(r),s.push(n.babylonAnimation)}),s}}getClassName(){return"FlowGraphJsonPointerParserBlock"}}function c(t,e){return t.getClassName().startsWith("Color")?t:"Color3"===e?new a.Wo(t.x,t.y,t.z):"Color4"===e?new a.HE(t.x,t.y,t.z,t.w):t}(0,s.H7)("FlowGraphJsonPointerParserBlock",u)}}]);