"use strict";(globalThis.webpackChunkcosmos_journeyer=globalThis.webpackChunkcosmos_journeyer||[]).push([["5915"],{69554:function(t,e,a){a.r(e),a.d(e,{FlowGraphInterpolationBlock:()=>u});var i=a(31700),n=a(82753),s=a(68763),r=a(46363);class u extends i.A{constructor(t={}){super(t),this.keyFrames=[];let e="string"==typeof t?.animationType?(0,n._M)(t.animationType):(0,n.fs)(t?.animationType??0),a=t?.keyFramesCount??1,i=this.registerDataInput("duration_0",n.ab,0),s=this.registerDataInput("value_0",e);this.keyFrames.push({duration:i,value:s});for(let i=1;i<a+1;i++){let s=this.registerDataInput(`duration_${i}`,n.ab,i===a?t.duration:void 0),r=this.registerDataInput(`value_${i}`,e);this.keyFrames.push({duration:s,value:r})}this.initialValue=this.keyFrames[0].value,this.endValue=this.keyFrames[a].value,this.easingFunction=this.registerDataInput("easingFunction",n.s8),this.animation=this.registerDataOutput("animation",n.s8),this.propertyName=this.registerDataInput("propertyName",n.s8,t?.propertyName),this.customBuildAnimation=this.registerDataInput("customBuildAnimation",n.s8)}_updateOutputs(t){let e=t._getGlobalContextVariable("interpolationAnimations",[]),a=this.propertyName.getValue(t),i=this.easingFunction.getValue(t),n=this._createAnimation(t,a,i);if(this.animation.setValue(n,t),Array.isArray(n))for(let t of n)e.push(t.uniqueId);else e.push(n.uniqueId);t._setGlobalContextVariable("interpolationAnimations",e)}_createAnimation(t,e,a){let i=this.initialValue.richType,n=[],r=this.initialValue.getValue(t)||i.defaultValue;n.push({frame:0,value:r});let u=this.config?.numberOfKeyFrames??1;for(let e=1;e<u+1;e++){let a=this.keyFrames[e].duration?.getValue(t),s=this.keyFrames[e].value?.getValue(t);e===u-1&&(s=s||i.defaultValue),void 0!==a&&s&&n.push({frame:60*a,value:s})}let o=this.customBuildAnimation.getValue(t);if(o)return o(null,null,t)(n,60,i.animationType,a);if("string"!=typeof e)return e.map(t=>{let e=s.fw.CreateAnimation(t,i.animationType,60,a);return e.setKeys(n),e});{let t=s.fw.CreateAnimation(e,i.animationType,60,a);return t.setKeys(n),[t]}}getClassName(){return"FlowGraphInterpolationBlock"}}(0,r.H7)("FlowGraphInterpolationBlock",u)}}]);