"use strict";(globalThis.webpackChunkcosmos_journeyer=globalThis.webpackChunkcosmos_journeyer||[]).push([["3034"],{84369:function(e,t,r){r.d(t,{A6:()=>i,Ab:()=>n,t6:()=>o});var a=r(88280);function i(e){let t=0;return{id_length:e[t++],colormap_type:e[t++],image_type:e[t++],colormap_index:e[t++]|e[t++]<<8,colormap_length:e[t++]|e[t++]<<8,colormap_size:e[t++],origin:[e[t++]|e[t++]<<8,e[t++]|e[t++]<<8],width:e[t++]|e[t++]<<8,height:e[t++]|e[t++]<<8,pixel_size:e[t++],flags:e[t++]}}function n(e,t){let r,n,h,l,s,g,c,f;if(t.length<19)return void a.Y.Error("Unable to load TGA file - Not enough data to contain header");let u=18,d=i(t);if(d.id_length+u>t.length)return void a.Y.Error("Unable to load TGA file - Not enough data");u+=d.id_length;let w=!1,b=!1,_=!1;switch(d.image_type){case 9:w=!0;case 1:b=!0;break;case 10:w=!0;case 2:break;case 11:w=!0;case 3:_=!0}let p=d.pixel_size>>3,y=d.width*d.height*p;if(b&&(n=t.subarray(u,u+=d.colormap_length*(d.colormap_size>>3))),w){let e,a,i;r=new Uint8Array(y);let n=0,o=new Uint8Array(p);for(;u<y&&n<y;)if(a=(127&(e=t[u++]))+1,128&e){for(i=0;i<p;++i)o[i]=t[u++];for(i=0;i<a;++i)r.set(o,n+i*p);n+=p*a}else{for(a*=p,i=0;i<a;++i)r[n+i]=t[u++];n+=a}}else r=t.subarray(u,u+=b?d.width*d.height:y);switch((48&d.flags)>>4){default:case 2:h=0,s=1,f=d.width,l=0,g=1,c=d.height;break;case 0:h=0,s=1,f=d.width,l=d.height-1,g=-1,c=-1;break;case 3:h=d.width-1,s=-1,f=-1,l=0,g=1,c=d.height;break;case 1:h=d.width-1,s=-1,f=-1,l=d.height-1,g=-1,c=-1}let m=o["_getImageData"+(_?"Grey":"")+d.pixel_size+"bits"](d,n,r,l,g,c,h,s,f);e.getEngine()._uploadDataToTextureDirectly(e,m)}let o={GetTGAHeader:i,UploadContent:n,_getImageData8bits:function(e,t,r,a,i,n,o,h,l){let s=e.width,g=e.height,c,f=0,u,d,w=new Uint8Array(s*g*4);for(d=a;d!==n;d+=i)for(u=o;u!==l;u+=h,f++)c=r[f],w[(u+s*d)*4+3]=255,w[(u+s*d)*4+2]=t[3*c+0],w[(u+s*d)*4+1]=t[3*c+1],w[(u+s*d)*4+0]=t[3*c+2];return w},_getImageData16bits:function(e,t,r,a,i,n,o,h,l){let s=e.width,g=e.height,c,f=0,u,d,w=new Uint8Array(s*g*4);for(d=a;d!==n;d+=i)for(u=o;u!==l;u+=h,f+=2){let e=((31744&(c=r[f+0]+(r[f+1]<<8)))>>10)*255/31|0,t=((992&c)>>5)*255/31|0,a=(31&c)*255/31|0;w[(u+s*d)*4+0]=e,w[(u+s*d)*4+1]=t,w[(u+s*d)*4+2]=a,w[(u+s*d)*4+3]=32768&c?0:255}return w},_getImageData24bits:function(e,t,r,a,i,n,o,h,l){let s=e.width,g=e.height,c=0,f,u,d=new Uint8Array(s*g*4);for(u=a;u!==n;u+=i)for(f=o;f!==l;f+=h,c+=3)d[(f+s*u)*4+3]=255,d[(f+s*u)*4+2]=r[c+0],d[(f+s*u)*4+1]=r[c+1],d[(f+s*u)*4+0]=r[c+2];return d},_getImageData32bits:function(e,t,r,a,i,n,o,h,l){let s=e.width,g=e.height,c=0,f,u,d=new Uint8Array(s*g*4);for(u=a;u!==n;u+=i)for(f=o;f!==l;f+=h,c+=4)d[(f+s*u)*4+2]=r[c+0],d[(f+s*u)*4+1]=r[c+1],d[(f+s*u)*4+0]=r[c+2],d[(f+s*u)*4+3]=r[c+3];return d},_getImageDataGrey8bits:function(e,t,r,a,i,n,o,h,l){let s=e.width,g=e.height,c,f=0,u,d,w=new Uint8Array(s*g*4);for(d=a;d!==n;d+=i)for(u=o;u!==l;u+=h,f++)c=r[f],w[(u+s*d)*4+0]=c,w[(u+s*d)*4+1]=c,w[(u+s*d)*4+2]=c,w[(u+s*d)*4+3]=255;return w},_getImageDataGrey16bits:function(e,t,r,a,i,n,o,h,l){let s=e.width,g=e.height,c=0,f,u,d=new Uint8Array(s*g*4);for(u=a;u!==n;u+=i)for(f=o;f!==l;f+=h,c+=2)d[(f+s*u)*4+0]=r[c+0],d[(f+s*u)*4+1]=r[c+0],d[(f+s*u)*4+2]=r[c+0],d[(f+s*u)*4+3]=r[c+1];return d}}},85966:function(e,t,r){r.r(t),r.d(t,{_TGATextureLoader:()=>i});var a=r(84369);class i{constructor(){this.supportCascades=!1}loadCubeData(){throw".env not supported in Cube."}loadData(e,t,r){let i=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),n=(0,a.A6)(i);r(n.width,n.height,t.generateMipMaps,!1,()=>{(0,a.Ab)(t,i)})}}}}]);