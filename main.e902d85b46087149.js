/*
 *  This file is part of Cosmos Journeyer
 *
 *  Copyright (C) 2024 Barthélemy Paléologue <barth.paleologue@cosmosjourneyer.com>
 *
 *  This program is free software: you can redistribute it and/or modify
 *  it under the terms of the GNU Affero General Public License as published by
 *  the Free Software Foundation, either version 3 of the License, or
 *  (at your option) any later version.
 *
 *  This program is distributed in the hope that it will be useful,
 *  but WITHOUT ANY WARRANTY; without even the implied warranty of
 *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *  GNU Affero General Public License for more details.
 *
 *  You should have received a copy of the GNU Affero General Public License
 *  along with this program.  If not, see <https://www.gnu.org/licenses/>.
 */

(()=>{"use strict";var e={33219:function(e,t,r){r.d(t,{XP:()=>o,b7:()=>c,bY:()=>f});var a=r(96509),n=r(48353);function c(e){return Math.pow(e/a.ah,.78)*a.uR}function o(e,t){return 2*Math.PI*Math.sqrt(e/t)}function f(e,t,r){var a,c=(a=(0,n.P1)(100),e<=0?0:1/(1/a+2044761436301033e-19*Math.log(101325/e))),o=(0,n.P1)(0);return!(e<.05)&&!(c<o)&&!(t>c)&&!(r<o)}},3713:function(e,t,r){r.d(t,{W:()=>a});function a(e,t){var r=new Blob([e],{type:"text/plain"}),a=URL.createObjectURL(r),n=document.createElement("a");n.href=a,n.download=t,n.click(),URL.revokeObjectURL(a)}},64044:function(e,t,r){function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=Array(t);r<t;r++)a[r]=e[r];return a}function n(){var e=[],t={};return["log","info","warn","error","debug"].forEach(function(r){var n=console[r];"function"==typeof n&&(t[r]=n.bind(console),console[r]=function(){for(var n,c=arguments.length,o=Array(c),f=0;f<c;f++)o[f]=arguments[f];var i=o.map(function(e){try{return JSON.stringify(e)}catch(t){return String(e)}}).join(" ");e.push({level:r,timestamp:new Date().toISOString(),message:i}),null==(n=t[r])||n.call.apply(n,[t].concat(function(e){if(Array.isArray(e))return a(e)}(o)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||function(e,t){if(e){if("string"==typeof e)return a(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}}(o)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))})}),function(){return e.slice()}}r.d(t,{Q:()=>n})},69427:function(e,t,r){function a(e){try{return window.btoa(encodeURIComponent(e))}catch(e){return null}}function n(e){return decodeURIComponent(window.atob(e))}r.d(t,{N:()=>n,o:()=>a})},87465:function(e,t,r){r.a(e,async function(e,t){try{r(15738);var a=r(89963),n=r(54755),c=r(73425),o=r(68215),f=r(69427),i=r(9852),d=r(64044),b=r(3713);function u(e,t,r,a,n,c,o){try{var f=e[c](o),i=f.value}catch(e){r(e);return}f.done?t(i):Promise.resolve(i).then(a,n)}function s(e){return function(){var t=this,r=arguments;return new Promise(function(a,n){var c=e.apply(t,r);function o(e){u(c,a,n,o,f,"next",e)}function f(e){u(c,a,n,o,f,"throw",e)}o(void 0)})}}function l(e,t){var r,a,n,c={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=f(0),o.throw=f(1),o.return=f(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function f(f){return function(i){var d=[f,i];if(r)throw TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(c=0)),c;)try{if(r=1,a&&(n=2&d[0]?a.return:d[0]?a.throw||((n=a.return)&&n.call(a),0):a.next)&&!(n=n.call(a,d[1])).done)return n;switch(a=0,n&&(d=[2&d[0],n.value]),d[0]){case 0:case 1:n=d;break;case 4:return c.label++,{value:d[1],done:!1};case 5:c.label++,a=d[1],d=[0];continue;case 7:d=c.ops.pop(),c.trys.pop();continue;default:if(!(n=(n=c.trys).length>0&&n[n.length-1])&&(6===d[0]||2===d[0])){c=0;continue}if(3===d[0]&&(!n||d[1]>n[0]&&d[1]<n[3])){c.label=d[1];break}if(6===d[0]&&c.label<n[1]){c.label=n[1],n=d;break}if(n&&c.label<n[2]){c.label=n[2],c.ops.push(d);break}n[2]&&c.ops.pop(),c.trys.pop();continue}d=t.call(e,c)}catch(e){d=[6,e],a=0}finally{r=n=0}if(5&d[0])throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}}var p=new n.cV;function h(e){return s(function(){return l(this,function(t){switch(t.label){case 0:return[4,e.init(!1)];case 1:return t.sent(),[2]}})})()}var v=(0,d.Q)();try{await s(function(){var e,t;return l(this,function(r){switch(r.label){case 0:return[4,c.d.CreateAsync()];case 1:var n;if(e=r.sent(),t=new URLSearchParams(window.location.search).get("save"),null===t)return[3,3];return[4,(n=e,s(function(){var e,r,c;return l(this,function(d){switch(d.label){case 0:if(e=(0,f.N)(t),r=(0,i.o)(e),null!==r)return[3,3];return console.error(e),[4,(0,o.UX)("Error, this save file is not a valid json.",p)];case 1:case 4:return d.sent(),[4,h(n)];case 2:case 5:return d.sent(),[2];case 3:if((c=(0,a.Yn)(r,n.backend.universe)).success)return[3,6];return[4,(0,o.UX)("Error, this save file is invalid. See the console for more details.",p)];case 6:return[4,n.loadSave(c.value)];case 7:return d.sent(),n.starSystemView.setUIEnabled(!0),[2]}})})())];case 2:case 4:return r.sent(),[2];case 3:return[4,h(e)]}})})()}catch(e){var y,m=v().map(function(e){return JSON.stringify(e)}),g="Console output:\n\n".concat(m.join("\n"));(y=Error,null!=y&&"undefined"!=typeof Symbol&&y[Symbol.hasInstance]?!!y[Symbol.hasInstance](e):e instanceof y)?g="".concat(g,"\n\n\nError:\n\n").concat(e.message):"string"==typeof e&&(g="".concat(g,"\n\n\nError:\n\n").concat(e)),(0,b.W)(g,"crashLog.txt"),await (0,o.UX)('An unexpected error has occurred!<br><br>\n        The crash log has been downloaded to your computer, please go to <a href="https://github.com/BarthPaleologue/CosmosJourneyer/issues">the issue tracker</a> and open a new bug issue with the crash log attached.\n        If you don\'t have a GitHub account, you can send an email to barth.paleologue@cosmosjourneyer.com instead.',p)}t()}catch(e){t(e)}},1)}},t={};function r(a){var n=t[a];if(void 0!==n)return n.exports;var c=t[a]={exports:{}};return e[a](c,c.exports,r),c.exports}r.m=e,(()=>{var e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",a="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",n=e=>{e&&e.d<1&&(e.d=1,e.forEach(e=>e.r--),e.forEach(e=>e.r--?e.r++:e()))},c=r=>r.map(r=>{if(null!==r&&"object"==typeof r){if(r[e])return r;if(r.then){var c=[];c.d=0,r.then(e=>{o[t]=e,n(c)},e=>{o[a]=e,n(c)});var o={};return o[e]=e=>e(c),o}}var f={};return f[e]=function(){},f[t]=r,f});r.a=(r,o,f)=>{f&&((i=[]).d=-1);var i,d,b,u,s=new Set,l=r.exports,p=new Promise((e,t)=>{u=t,b=e});p[t]=l,p[e]=e=>{i&&e(i),s.forEach(e),p.catch(function(){})},r.exports=p,o(r=>{d=c(r);var n,o=()=>d.map(e=>{if(e[a])throw e[a];return e[t]}),f=new Promise(t=>{(n=()=>t(o)).r=0;var r=e=>e!==i&&!s.has(e)&&(s.add(e),e&&!e.d&&(n.r++,e.push(n)));d.map(t=>t[e](r))});return n.r?f:o()},e=>(e?u(p[a]=e):b(l),n(i))),i&&i.d<0&&(i.d=0)}})(),r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce((t,a)=>(r.f[a](e,t),t),[])),r.k=e=>""+e+".css",r.u=e=>""+e+"."+({1009:"4e09f2eb6fb572e7",1108:"00fe7425e8dfa7de",1246:"a6d8767a6ddf1d6c",1413:"c91e9f77aa843175",1420:"ca81dd390692d997",1523:"d452cee24142d238",1619:"cedaa2bd44b3b853",1633:"4b83844c3f106eae",1667:"f165f5c1f8d21272",1670:"5bb47da53daa6519",1730:"6f3b433e2b9413b2",178:"04b5c4f07b354096",1801:"fa674c3ff688a69b",1806:"ece43cee92dba8ed",188:"565063ee0612af57",1935:"b48077fb07edbbbe",1952:"f3927659c9d3a9fb",1953:"097da047255cecd4",1966:"feebb9a8c1e1ccec",1968:"b98704fa70c3d48c",2029:"f72c675b7f77adf6",2070:"9574178ac62600b9",2219:"2c3f420ec8a7f627",2400:"2cec4bd956fac0e4",2508:"e735353dd2f7121a",2524:"59e480ff430393f7",2751:"3547cdd721fdb4e7",276:"20463a0f6b54768c",2770:"fa3dfda4da92b40e",2814:"92a9ea152015ca79",2834:"d5d3d60e73b8b6b2",2851:"82f306a3dc3e531f",287:"0921cdd649d45e62",2886:"ba81cdcee8da8d67",29:"d05953d40e6c6bdd",2907:"21dccbfda50f02f1",2927:"1cbf6925f559598d",2951:"fe0d062f14355e20",2979:"bedada3d8734d327",3034:"56aacf35db44363a",3145:"ef866cba8c543650",3332:"3f06ec03e72e5e06",34:"a3fa484be544439e",3536:"5b7d8d76c9e35c12",3674:"d80141f33fb3d9a8",3722:"ced176c80adeaf11",3742:"16c2bac33b1752f5",3745:"cf54c8eab2e4b2bf",3759:"9bc35d5f19f745d7",3798:"bef4813d59f74f9d",3821:"ef86f5bb897ed9da",3826:"52114c131d900c21",3829:"8c92c674eec26226",3833:"06ab04ec1666faa5",3845:"d27dabaf9a64c1fe",395:"c345047896c9a2a0",4003:"98afa796a3b45df9",4055:"ff7cbac2af6b45a7",4129:"0bfd3a3e2d044e3b",4164:"8864c3f24a2d80be",4280:"92b42bdca365ff81",4296:"d025fb75a4e0be15",4309:"6c2a6a517e8542fc",4400:"91ba711d911297be",4441:"18fd7745b7fae304",4549:"065f54f53200d271",4556:"be6fd477d7e1d5b8",4584:"233beaeaca4507ec",4636:"619990781b1fa2c8",4658:"5215752f114ab92f",4751:"b96ee6f2953f8158",477:"f4d4c9ef3f358999",4774:"fff0cb2f4591e4d0",482:"dc356722ab946b02",4820:"3b7f21bdb09f53b5",4823:"5a15113e9aced178",5010:"d74c8613c8db8943",5038:"db4923baee4bdba9",5185:"23b74d5de79b65f4",52:"19bdbb6a32d3cfbd",5221:"18e9d185b1d01f07",5381:"b2be4284de0d1cce",5551:"c2abb4cdb2d8a5bc",5603:"258b8561a6464435",5630:"42bfe7c514e6e1ff",5652:"4308bd36c3d07b44",5725:"50a461b595a0aa3f",579:"42fa556d70e592ed",5815:"5ac8ff84307b750d",5915:"314a98d3154a8173",5960:"3d758248c1eff04a",5988:"e6a7e155e4277968",5989:"5e039e22c64b3c75",5997:"cd981479dddfed58",600:"f8794fd343eb042c",6150:"09fbe177dd9e55a2",6240:"4c4ab50553285ee6",6248:"ed24a4a08993849a",6253:"98bd5534c6f2547d",6264:"14baeb4f12c1a6bd",6342:"f2776df4a469b38a",6378:"f0d7c4209dde3fc3",65:"30e1a03fd2992306",6500:"a7d72979fd2f6892",6550:"b8f7074cf83e5b4b",6551:"33fef526a71c11bc",66:"3dfdcd75e7aeea66",6645:"101350041eaf8c0e",67:"34bf38ec8f16371a",6903:"5bcc3b98827507b5",7044:"c29afde9765c10c2",7081:"f54bab8775979f7c",712:"9cc0f3aef7661a43",7122:"9b2a9c0b4d7719cf",7126:"ccaf29bfbf3aac92",713:"e51b368f0e2eb3cf",7141:"36798d8f72c2e56e",7143:"2ec7bcabc113582c",7291:"3eab4a3a855b9bf0",7311:"8bed6f2771abb6b3",7590:"02186071a278da7b",761:"92fb5c010539fa69",7650:"0cf55d80eb0b2c4f",7809:"3aaec01bfa7b82d4",7843:"04e51aecba961339",7874:"fe0133e2443eb483",7903:"7a40885624204d09",7927:"8bc67d46817ebf12",7971:"affb0e13f60e979c",8097:"20f9610fc35097ce",8197:"f804e1d75f2a08f4",8204:"30b0c2aa4b89d82e",8210:"b8b5372c25f2ddc7",8314:"2c4a8ca3c207cc43",8321:"93eff49fd1c17cf3",833:"a968828739cec5a4",8497:"6d96d201a74d5ffd",8561:"badeebfde897a73b",8631:"ff5652adfa8e6ded",8632:"ac33ba04fb1c3888",8661:"1b45ba22d96561a9",8775:"ede08a2083b775ed",8854:"95057da7267ee458",8953:"c32f83dbd9a61dff",8975:"8f869395af72ed17",8978:"388f04717647405b",9068:"4c1df3aa9074ee9d",9075:"5fd8ae1fd8118631",9123:"9b62bda9b2bf6bbc",9190:"57be96b2ea48c611",9248:"afe98030e53c0362",9249:"4acc99b99a61d136",9256:"3745335b0d834476",9276:"c31f9160fcec626c",9385:"eeba2f32ece0dd7b",9474:"b5ca8e84c57f37b7",9616:"e42351c8ee1d64fb",9646:"bff583100e5a5b5c",974:"d475d90651a484f7",9749:"0117bee4d54a979b",975:"07939f26ed1e9130",9824:"188c489e64174b2d",9828:"06179aceb5726924",9870:"e00f89104b331c8a",9999:"34242539546a7587"})[e]+".js",r.g=(()=>{if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}})(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="cosmos-journeyer:";r.l=function(a,n,c,o){if(e[a])return void e[a].push(n);if(void 0!==c)for(var f,i,d=document.getElementsByTagName("script"),b=0;b<d.length;b++){var u=d[b];if(u.getAttribute("src")==a||u.getAttribute("data-webpack")==t+c){f=u;break}}f||(i=!0,(f=document.createElement("script")).charset="utf-8",f.timeout=120,r.nc&&f.setAttribute("nonce",r.nc),f.setAttribute("data-webpack",t+c),f.src=a),e[a]=[n];var s=function(t,r){f.onerror=f.onload=null,clearTimeout(l);var n=e[a];if(delete e[a],f.parentNode&&f.parentNode.removeChild(f),n&&n.forEach(function(e){return e(r)}),t)return t(r)},l=setTimeout(s.bind(null,void 0,{type:"timeout",target:f}),12e4);f.onerror=s.bind(null,f.onerror),f.onload=s.bind(null,f.onload),i&&document.head.appendChild(f)}})(),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e=[];r.O=(t,a,n,c)=>{if(a){c=c||0;for(var o=e.length;o>0&&e[o-1][2]>c;o--)e[o]=e[o-1];e[o]=[a,n,c];return}for(var f=1/0,o=0;o<e.length;o++){for(var[a,n,c]=e[o],i=!0,d=0;d<a.length;d++)(!1&c||f>=c)&&Object.keys(r.O).every(e=>r.O[e](a[d]))?a.splice(d--,1):(i=!1,c<f&&(f=c));if(i){e.splice(o--,1);var b=n();void 0!==b&&(t=b)}}return t}})(),r.rv=()=>"1.3.13",(()=>{r.g.importScripts&&(e=r.g.location+"");var e,t=r.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var a=t.getElementsByTagName("script");if(a.length)for(var n=a.length-1;n>-1&&(!e||!/^http(s?):/.test(e));)e=a[n--].src}if(!e)throw Error("Automatic publicPath is not supported in this browser");r.p=e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/")})(),(()=>{var e={21:0},t="cosmos-journeyer",a=(t,r)=>{e[r]=0},n="data-webpack-loading",c=function(e,a,c,o,f){var i,d,b="chunk-"+e;if(!o){for(var u=document.getElementsByTagName("link"),s=0;s<u.length;s++){var l=u[s],p=l.getAttribute("href")||l.href;if(p&&!p.startsWith(r.p)&&(p=r.p+(p.startsWith("/")?p.slice(1):p)),"stylesheet"==l.rel&&(p&&p.startsWith(a)||l.getAttribute("data-webpack")==t+":"+b)){i=l;break}}if(!c)return i}i||(d=!0,i=document.createElement("link"),r.nc&&i.setAttribute("nonce",r.nc),i.setAttribute("data-webpack",t+":"+b),f&&i.setAttribute("fetchpriority",f),i.setAttribute(n,1),i.rel="stylesheet",i.href=a);var h=function(e,t){if(i.onerror=i.onload=null,i.removeAttribute(n),clearTimeout(v),t&&"load"!=t.type&&i.parentNode.removeChild(i),c(t),e)return e(t)};if(i.getAttribute(n)){var v=setTimeout(h.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=h.bind(null,i.onerror),i.onload=h.bind(null,i.onload)}else h(void 0,{type:"load",target:i});return o&&o.getAttribute("fetchpriority")&&i.setAttribute("fetchpriority",o.getAttribute("fetchpriority")),o?document.head.insertBefore(i,o):d&&document.head.appendChild(i),i};a(r.m,0,"21"),r.f.css=function(t,n,o){var f=r.o(e,t)?e[t]:void 0;if(0!==f)if(f)n.push(f[2]);else if(21==t){var i=new Promise(function(r,a){f=e[t]=[r,a]});n.push(f[2]=i);var d=r.p+r.k(t),b=Error();c(t,d,function(n){if(r.o(e,t)&&(0!==(f=e[t])&&(e[t]=void 0),f))if("load"!==n.type){var c=n&&n.type,o=n&&n.target&&n.target.src;b.message="Loading css chunk "+t+" failed.\n("+c+": "+o+")",b.name="ChunkLoadError",b.type=c,b.request=o,f[1](b)}else a(r.m,t),f[0]()},void 0,o)}else e[t]=0}})(),(()=>{r.b=document.baseURI||self.location.href;var e={6909:0};r.f.j=function(t,a){var n=r.o(e,t)?e[t]:void 0;if(0!==n)if(n)a.push(n[2]);else{var c=new Promise((r,a)=>n=e[t]=[r,a]);a.push(n[2]=c);var o=r.p+r.u(t),f=Error();r.l(o,function(a){if(r.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var c=a&&("load"===a.type?"missing":a.type),o=a&&a.target&&a.target.src;f.message="Loading chunk "+t+" failed.\n("+c+": "+o+")",f.name="ChunkLoadError",f.type=c,f.request=o,n[1](f)}},"chunk-"+t,t)}},r.O.j=t=>0===e[t];var t=(t,a)=>{var n,c,[o,f,i]=a,d=0;if(o.some(t=>0!==e[t])){for(n in f)r.o(f,n)&&(r.m[n]=f[n]);if(i)var b=i(r)}for(t&&t(a);d<o.length;d++)c=o[d],r.o(e,c)&&e[c]&&e[c][0](),e[c]=0;return r.O(b)},a=globalThis.webpackChunkcosmos_journeyer=globalThis.webpackChunkcosmos_journeyer||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})(),r.ruid="bundler=rspack@1.3.13";var a=r.O(void 0,["9050","7384","907","4359","5134","4874","571","3112","7227","5523","21","4894"],function(){return r(87465)});a=r.O(a)})();